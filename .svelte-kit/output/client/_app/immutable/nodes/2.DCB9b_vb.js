import"../chunks/CWj6FrbW.js";import{i as Je}from"../chunks/D6foojXL.js";import{t as St,n as Le,as as ma,w as Ht,o as fa,m as pa,a as e,b as ba,r as ga,H as ha,q as zt,v as At,C as nt,at as xa,au as _a,x as Ot,z as ya,y as Ze,av as Wt,aw as Gt,J as T,ax as qt,ay as Vt,A as Yt,B as wa,az as ht,aA as Et,aB as Qt,aC as xt,aD as ka,aE as $a,aF as Ma,aG as Da,aH as Sa,e as Aa,ah as Ea,aI as Zt,aJ as Na,aK as Ba,ao as Ca,u as I,ag as Ra,aL as Ta,aM as _t,X as et,aN as yt,Y as M,ad as oe,_ as Y,$ as b,a0 as tt,aO as Xt,a3 as v,a1 as s,a2 as a,a4 as q,s as c,ap as Xe,Z as je,ae as Ke,am as Kt,ab as de,ac as Jt,ar as Pt,aP as Ue,aQ as ea,V as Ut,aR as La,aS as ja}from"../chunks/ys46v9TR.js";import{i as j,s as wt,a as Ge}from"../chunks/DpIJLBU4.js";import{t as Oa,s as Ce,a as Ee,r as Nt}from"../chunks/D2qynk3V.js";import{b as ze}from"../chunks/CJQO3vYM.js";import{p as pt}from"../chunks/BP8N04A3.js";function ta(i,l){return l}function Fa(i,l,t){for(var r=i.items,_=[],p=l.length,g=0;g<p;g++)Ma(l[g].e,_,!0);var y=p>0&&_.length===0&&t!==null;if(y){var E=t.parentNode;Da(E),E.append(t),r.clear(),Te(i,l[0].prev,l[p-1].next)}Sa(_,()=>{for(var N=0;N<p;N++){var H=l[N];y||(r.delete(H.k),Te(i,H.prev,H.next)),Qt(H.e,!y)}})}function gt(i,l,t,r,_,p=null){var g=i,y={flags:l,items:new Map,first:null},E=(l&Zt)!==0;if(E){var N=i;g=Le?St(ma(N)):N.appendChild(Ht())}Le&&fa();var H=null,ee=!1,Q=new Map,se=ba(()=>{var O=t();return Gt(O)?O:O==null?[]:Wt(O)}),h,B;function u(){Ia(B,h,y,Q,g,_,l,r,t),p!==null&&(h.length===0?H?Yt(H):H=Ot(()=>p(g)):H!==null&&wa(H,()=>{H=null}))}pa(()=>{B??(B=Aa),h=e(se);var O=h.length;if(ee&&O===0)return;ee=O===0;let L=!1;if(Le){var z=ga(g)===ha;z!==(O===0)&&(g=zt(),St(g),At(!1),L=!0)}if(Le){for(var Z=null,w,m=0;m<O;m++){if(nt.nodeType===xa&&nt.data===_a){g=nt,L=!0,At(!1);break}var S=h[m],G=r(S,m);w=Ft(nt,y,Z,null,S,G,m,_,l,t),y.items.set(G,w),Z=w}O>0&&St(zt())}if(Le)O===0&&p&&(H=Ot(()=>p(g)));else if(ya()){var ce=new Set,te=Ze;for(m=0;m<O;m+=1){S=h[m],G=r(S,m);var X=y.items.get(G)??Q.get(G);X?l&(xt|ht)&&aa(X,S,m,l):(w=Ft(null,y,null,null,S,G,m,_,l,t,!0),Q.set(G,w)),ce.add(G)}for(const[V,x]of y.items)ce.has(V)||te.skipped_effects.add(x.e);te.add_callback(u)}else u();L&&At(!0),e(se)}),Le&&(g=nt)}function Ia(i,l,t,r,_,p,g,y,E){var k,ie,pe,ne;var N=(g&Na)!==0,H=(g&(xt|ht))!==0,ee=l.length,Q=t.items,se=t.first,h=se,B,u=null,O,L=[],z=[],Z,w,m,S;if(N)for(S=0;S<ee;S+=1)Z=l[S],w=y(Z,S),m=Q.get(w),m!==void 0&&((k=m.a)==null||k.measure(),(O??(O=new Set)).add(m));for(S=0;S<ee;S+=1){if(Z=l[S],w=y(Z,S),m=Q.get(w),m===void 0){var G=r.get(w);if(G!==void 0){r.delete(w),Q.set(w,G);var ce=u?u.next:h;Te(t,u,G),Te(t,G,ce),Bt(G,ce,_),u=G}else{var te=h?h.e.nodes_start:_;u=Ft(te,t,u,u===null?t.first:u.next,Z,w,S,p,g,E)}Q.set(w,u),L=[],z=[],h=u.next;continue}if(H&&aa(m,Z,S,g),m.e.f&Et&&(Yt(m.e),N&&((ie=m.a)==null||ie.unfix(),(O??(O=new Set)).delete(m))),m!==h){if(B!==void 0&&B.has(m)){if(L.length<z.length){var X=z[0],V;u=X.prev;var x=L[0],C=L[L.length-1];for(V=0;V<L.length;V+=1)Bt(L[V],X,_);for(V=0;V<z.length;V+=1)B.delete(z[V]);Te(t,x.prev,C.next),Te(t,u,x),Te(t,C,X),h=X,u=C,S-=1,L=[],z=[]}else B.delete(m),Bt(m,h,_),Te(t,m.prev,m.next),Te(t,m,u===null?t.first:u.next),Te(t,u,m),u=m;continue}for(L=[],z=[];h!==null&&h.k!==w;)h.e.f&Et||(B??(B=new Set)).add(h),z.push(h),h=h.next;if(h===null)continue;m=h}L.push(m),u=m,h=m.next}if(h!==null||B!==void 0){for(var D=B===void 0?[]:Wt(B);h!==null;)h.e.f&Et||D.push(h),h=h.next;var ve=D.length;if(ve>0){var R=g&Zt&&ee===0?_:null;if(N){for(S=0;S<ve;S+=1)(pe=D[S].a)==null||pe.measure();for(S=0;S<ve;S+=1)(ne=D[S].a)==null||ne.fix()}Fa(t,D,R)}}N&&Ea(()=>{var K;if(O!==void 0)for(m of O)(K=m.a)==null||K.apply()}),i.first=t.first&&t.first.e,i.last=u&&u.e;for(var De of r.values())Qt(De.e);r.clear()}function aa(i,l,t,r){r&xt&&Vt(i.v,l),r&ht?Vt(i.i,t):i.i=t}function Ft(i,l,t,r,_,p,g,y,E,N,H){var ee=(E&xt)!==0,Q=(E&ka)===0,se=ee?Q?T(_,!1,!1):qt(_):_,h=E&ht?qt(g):g,B={i:h,v:se,k:p,a:null,e:null,prev:t,next:r};try{if(i===null){var u=document.createDocumentFragment();u.append(i=Ht())}return B.e=Ot(()=>y(i,se,h,N),Le),B.e.prev=t&&t.e,B.e.next=r&&r.e,t===null?H||(l.first=B):(t.next=B,t.e.next=B.e),r!==null&&(r.prev=B,r.e.prev=B.e),B}finally{}}function Bt(i,l,t){for(var r=i.next?i.next.e.nodes_start:t,_=l?l.e.nodes_start:t,p=i.e.nodes_start;p!==null&&p!==r;){var g=$a(p);_.before(p),p=g}}function Te(i,l,t){l===null?i.first=t:(l.next=t,l.e.next=t&&t.e),t!==null&&(t.prev=l,t.e.prev=l&&l.e)}function za(i,l,t,r){var _=i.__style;if(Le||_!==l){var p=Oa(l);(!Le||p!==i.getAttribute("style"))&&(p==null?i.removeAttribute("style"):i.style.cssText=p),i.__style=l}return r}function Ct(i,l,t=l){var r=new WeakSet;Ba(i,"input",async _=>{var p=_?i.defaultValue:i.value;if(p=Rt(i)?Tt(p):p,t(p),Ze!==null&&r.add(Ze),await Ca(),p!==(p=l())){var g=i.selectionStart,y=i.selectionEnd;i.value=p??"",y!==null&&(i.selectionStart=g,i.selectionEnd=Math.min(y,i.value.length))}}),(Le&&i.defaultValue!==i.value||I(l)==null&&i.value)&&(t(Rt(i)?Tt(i.value):i.value),Ze!==null&&r.add(Ze)),Ra(()=>{var _=l();if(i===document.activeElement){var p=Ta??Ze;if(r.has(p))return}Rt(i)&&_===Tt(i.value)||i.type==="date"&&!_&&!i.value||_!==i.value&&(i.value=_??"")})}function Rt(i){var l=i.type;return l==="number"||l==="range"}function Tt(i){return i===""?null:+i}function Lt(i){return function(...l){var t=l[0];return t.stopPropagation(),i==null?void 0:i.apply(this,l)}}function qa(i){return function(...l){var t=l[0];return t.preventDefault(),i==null?void 0:i.apply(this,l)}}function Va(i,l){var p;var t=(p=i.$$events)==null?void 0:p[l.type],r=Gt(t)?t.slice():t==null?[]:[t];for(var _ of r)_.call(this,l)}function jt(i){return i?/^(https?:|data:|blob:)/i.test(i)||i.startsWith(ze+"/")?i:i.startsWith("/")?`${ze}${i}`:`${ze}/${i}`:""}const Pa=[{id:1,name:"CLUB_ROOM",displayName:"Club Room",description:"Perfect for birthdays and celebrations, the Club Room features a bar, music system, and plenty of space for parties with friends.",maxDays:2,requiresApproval:!0,depositEur:200,termsNote:"A €200 deposit is required when picking up the key. Terms of Use contract must be signed at key pickup.",images:[{url:jt("/club-room.jpg"),alt:"Club Room - Main Area"}]},{id:2,name:"GAMES_ROOM",displayName:"Games Room",description:"Entertainment hub with gaming consoles, board games, a pool table, and more — perfect for relaxation and fun with friends.",maxDays:1,requiresApproval:!0,depositEur:200,termsNote:"A €200 deposit is required when picking up the key. Terms of Use contract must be signed at key pickup.",images:[{url:jt("/games-room.jpg"),alt:"Games Room - Gaming Setup"}]},{id:3,name:"BBQ_AREA",displayName:"BBQ Area",description:"Outdoor barbecue area with grill, seating, and dining space. Ideal for outdoor cooking and social gatherings.",maxDays:1,requiresApproval:!1,depositEur:null,termsNote:null,images:[{url:jt("/bbq-area.jpg"),alt:"BBQ Area - Grilling Space"}]}],Ua=_t(Pa),ot=_t(null),bt=_t({days:[]}),ra=_t({start:null,end:null});var Ha=M('<button type="button" role="option"><div class="flex flex-col"><span class="font-medium"> </span> <span class="text-sm text-gray-500 mt-1"> </span></div></button>'),Wa=M('<div class="relative mt-1 w-full bg-white shadow-lg max-h-60 rounded-lg py-1 text-base ring-1 ring-black ring-opacity-5 overflow-auto focus:outline-none"></div>'),Ga=M('<div class="facility-picker relative z-10" style="overflow: none;"><label class="form-label">Select Facility</label> <button type="button" class="w-full bg-white border border-gray-300 rounded-lg px-4 py-3 text-left focus:outline-none focus:ring-2 focus:ring-vb19-primary focus:border-transparent transition-colors duration-200 flex items-center justify-between" aria-haspopup="listbox"><span class="block truncate"> </span> <svg fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg></button> <!></div>');function Ya(i,l){et(l,!1);const t=()=>Ge(ot,"$selectedFacility",_),r=()=>Ge(Ua,"$facilities",_),[_,p]=wt(),g=yt();let y=T(!1);function E(L){ot.set(L),c(y,!1),g("facilityChanged",L)}function N(){c(y,!e(y))}function H(L){L.target.closest(".facility-picker")||c(y,!1)}Je();var ee=Ga();oe("click",Xt,H);var Q=v(s(ee),2),se=s(Q),h=s(se,!0);a(se);var B=v(se,2);a(Q);var u=v(Q,2);{var O=L=>{var z=Wa();gt(z,5,r,Z=>Z.id,(Z,w)=>{var m=Ha(),S=s(m),G=s(S),ce=s(G,!0);a(G);var te=v(G,2),X=s(te);a(te),a(S),a(m),Y(()=>{var V,x;Ee(m,1,`w-full text-left px-4 py-3 hover:bg-gray-50 focus:bg-gray-50 focus:outline-none transition-colors duration-150 ${((V=t())==null?void 0:V.id)===e(w).id?"bg-blue-50 text-vb19-primary":"text-gray-900"}`),Ce(m,"aria-selected",((x=t())==null?void 0:x.id)===e(w).id),q(ce,e(w).displayName),q(X,`Max ${e(w).maxDays??""} day${e(w).maxDays>1?"s":""} • 
              ${e(w).requiresApproval?"Requires approval":"Auto-approved"}`)}),oe("click",m,()=>E(e(w))),b(Z,m)}),a(z),b(L,z)};j(u,L=>{e(y)&&L(O)})}a(ee),Y(()=>{Ce(Q,"aria-expanded",e(y)),q(h,t()&&t().id?t().displayName:"Select..."),Ee(B,0,`h-5 w-5 text-gray-400 transition-transform duration-200 ${e(y)?"rotate-180":""}`)}),oe("click",Q,N),b(i,ee),tt(),p()}var Qa=M('<div class="relative group cursor-pointer overflow-hidden rounded-lg bg-gray-100"><img class="w-full h-80 object-cover transition-transform duration-300 group-hover:scale-105"/> <div class="absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center"><div class="opacity-0 group-hover:opacity-100 transition-opacity duration-300"><svg class="w-8 h-8 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM10 7v3m0 0v3m0-3h3m-3 0H7"></path></svg></div></div></div>'),Za=M('<div class="flex items-center space-x-2"><svg class="w-4 h-4 text-vb19-accent" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"></path></svg> <span class="text-vb19-text"> </span></div>'),Xa=M('<div class="mt-4 p-4 bg-amber-50 border border-amber-200 rounded-lg"><div class="flex items-start space-x-2"><svg class="w-5 h-5 text-amber-600 mt-0.5 flex-shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"></path></svg> <div><h4 class="font-medium text-amber-800 mb-1">Important Notice</h4> <p class="text-sm text-amber-700"> </p></div></div></div>'),Ka=M('<button class="absolute left-4 top-1/2 transform -translate-y-1/2 text-white hover:text-gray-300 transition-colors duration-200"><svg class="w-8 h-8" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path></svg></button> <button class="absolute right-4 top-1/2 transform -translate-y-1/2 text-white hover:text-gray-300 transition-colors duration-200"><svg class="w-8 h-8" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg></button>',1),Ja=M('<div class="absolute bottom-4 left-1/2 transform -translate-x-1/2 text-white text-sm bg-black bg-opacity-50 px-3 py-1 rounded-full"> </div>'),er=M('<div class="fixed inset-0 z-50 bg-black bg-opacity-90 flex items-center justify-center p-4"><div class="relative max-w-4xl max-h-full"><button class="absolute top-4 right-4 z-10 text-white hover:text-gray-300 transition-colors duration-200"><svg class="w-8 h-8" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></button> <!> <img class="max-w-full max-h-full object-contain"/> <!></div></div>'),tr=M('<div class="facility-gallery"><div class="mb-6"></div> <div class="card"><h3 class="text-xl font-semibold text-vb19-text mb-3"> </h3> <p class="text-vb19-muted mb-4"> </p> <div class="flex flex-wrap gap-4 text-sm"><div class="flex items-center space-x-2"><svg class="w-4 h-4 text-vb19-primary" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path></svg> <span class="text-vb19-text"> </span></div> <div class="flex items-center space-x-2"><svg class="w-4 h-4 text-vb19-primary" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg> <span class="text-vb19-text"> </span></div> <!></div> <!></div></div> <!>',1);function ar(i,l){et(l,!1);const t=()=>Ge(ot,"$selectedFacility",r),[r,_]=wt();let p=T(0),g=T(!1);function y(u){return u?/^(https?:|data:|blob:)/i.test(u)||u.startsWith(ze+"/")?u:u.startsWith("/")?`${ze}${u}`:`${ze}/${u}`:""}function E(u){c(p,u),c(g,!0)}function N(){c(g,!1)}function H(){var u;(u=t())!=null&&u.images&&c(p,(e(p)+1)%t().images.length)}function ee(){var u;(u=t())!=null&&u.images&&c(p,e(p)===0?t().images.length-1:e(p)-1)}function Q(u){e(g)&&(u.key==="Escape"?N():u.key==="ArrowRight"?H():u.key==="ArrowLeft"&&ee())}Je();var se=Xe();oe("keydown",Xt,Q);var h=je(se);{var B=u=>{var O=tr(),L=je(O),z=s(L);gt(z,5,()=>t().images,ta,(ne,K,be)=>{var we=Qa(),ke=s(we);Ke(2),a(we),Y(Ne=>{Ce(ke,"src",Ne),Ce(ke,"alt",e(K).alt)},[()=>y(e(K).url)]),oe("click",ke,()=>E(be)),oe("error",ke,Ne=>{Ne.target.src=`https://via.placeholder.com/600x400/E5E7EB/6B7280?text=${encodeURIComponent(t().displayName)}`}),b(ne,we)}),a(z);var Z=v(z,2),w=s(Z),m=s(w,!0);a(w);var S=v(w,2),G=s(S,!0);a(S);var ce=v(S,2),te=s(ce),X=v(s(te),2),V=s(X);a(X),a(te);var x=v(te,2),C=v(s(x),2),D=s(C,!0);a(C),a(x);var ve=v(x,2);{var R=ne=>{var K=Za(),be=v(s(K),2),we=s(be);a(be),a(K),Y(()=>q(we,`€${t().depositEur??""} deposit required`)),b(ne,K)};j(ve,ne=>{t().depositEur&&ne(R)})}a(ce);var De=v(ce,2);{var k=ne=>{var K=Xa(),be=s(K),we=v(s(be),2),ke=v(s(we),2),Ne=s(ke,!0);a(ke),a(we),a(be),a(K),Y(()=>q(Ne,t().termsNote)),b(ne,K)};j(De,ne=>{t().termsNote&&ne(k)})}a(Z),a(L);var ie=v(L,2);{var pe=ne=>{var K=er(),be=s(K),we=s(be),ke=v(we,2);{var Ne=P=>{var ue=Ka(),re=je(ue),xe=v(re,2);oe("click",re,Lt(ee)),oe("click",xe,Lt(H)),b(P,ue)};j(ke,P=>{t().images.length>1&&P(Ne)})}var d=v(ke,2),A=v(d,2);{var ae=P=>{var ue=Ja(),re=s(ue);a(ue),Y(()=>q(re,`${e(p)+1} / ${t().images.length??""}`)),b(P,ue)};j(A,P=>{t().images.length>1&&P(ae)})}a(be),a(K),Y(P=>{Ce(d,"src",P),Ce(d,"alt",t().images[e(p)].alt)},[()=>y(t().images[e(p)].url)]),oe("click",we,N),oe("click",d,Lt(function(P){Va.call(this,l,P)})),oe("click",K,N),b(ne,K)};j(ie,ne=>{e(g)&&t().images&&ne(pe)})}Y(()=>{q(m,t().displayName),q(G,t().description),q(V,`Max ${t().maxDays??""} day${t().maxDays>1?"s":""}`),q(D,t().requiresApproval?"Requires approval":"Auto-approved")}),b(u,O)};j(h,u=>{t()&&u(B)})}b(i,se),tt(),_()}const sa="https://ewibwyoytreosqqaaakf.supabase.co/functions/v1";function rr(i){const l=new Date(i);return l.setDate(l.getDate()+1),l.toISOString().slice(0,10)}async function sr(i){const l=await fetch(`${sa}/create-reservation`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)});if(!l.ok){let t;try{t=await l.json()}catch{t={error:"UNKNOWN_ERROR"}}throw t}return l.json()}async function ir(i,l,t){const r=new URL(`${sa}/availability`);r.searchParams.set("facilityName",i),r.searchParams.set("from",l),r.searchParams.set("to",t);const _=await fetch(r.toString());if(!_.ok)throw await _.json();return(await _.json()).days}var nr=M('<h4 class="text-lg font-semibold text-vb19-text"> </h4>'),or=M('<h4 class="text-lg font-semibold text-vb19-text">Select dates</h4>'),lr=M('<button type="button" class="text-sm text-vb19-muted hover:text-vb19-text transition-colors duration-200">Clear selection</button>'),dr=M('<div class="mb-3 text-sm text-vb19-muted">Loading availability…</div>'),cr=M('<div class="mb-3 text-sm text-red-600"> </div>'),vr=M(`<div class="mb-3 p-3 bg-yellow-50 border border-yellow-200 rounded-lg text-sm text-vb19-text"><span class="font-medium">Heads up:</span> Reservations run from <span class="font-semibold">18:00</span> on the selected day
      until <span class="font-semibold">15:00</span> the following day (cleaning &amp; key return).
      Selecting 2 days means <span class="font-semibold">2 nights</span>.</div>`),ur=M('<span class="text-sm text-vb19-primary ml-2"> </span>'),mr=M('<span class="text-sm text-vb19-primary ml-2"> </span>'),fr=M('<div class="text-xs text-vb19-muted"><!> · Check-in after 18:00 · Check-out before 15:00</div>'),pr=M('<div class="text-xs text-vb19-muted"> </div>'),br=M('<div class="mb-4 p-3 bg-blue-50 border border-blue-200 rounded-lg"><div class="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2"><div><span class="text-sm font-medium text-vb19-text">Selected:</span> <!></div> <!></div></div>'),gr=M('<div class="p-2 text-center text-sm font-medium text-vb19-muted"> </div>'),hr=M('<span class="absolute top-0 right-0 text-xs leading-none"> </span>'),xr=M('<div class="absolute bottom-0 left-1/2 -translate-x-1/2 w-1 h-1 bg-vb19-accent rounded-full"></div>'),_r=M('<button type="button"><span class="relative z-10"> </span> <!> <!></button>'),yr=M('<div class="availability-calendar"><div class="flex items-center justify-between mb-6"><!> <!></div> <!> <!> <!> <div class="flex items-center justify-between mb-4"><button type="button"><svg class="w-5 h-5 text-vb19-muted" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path></svg></button> <h3 class="text-lg font-semibold text-vb19-text"> </h3> <button type="button"><svg class="w-5 h-5 text-vb19-muted" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg></button></div> <div class="grid grid-cols-7 gap-1 mb-4"><!> <!></div> <div class="grid grid-cols-2 md:grid-cols-4 gap-2 text-xs"><div class="flex items-center space-x-2"><div class="w-3 h-3 bg-white border border-gray-200 rounded"></div> <span class="text-vb19-muted">Available</span></div> <div class="flex items-center space-x-2"><div class="w-3 h-3 bg-amber-100 border border-amber-200 rounded"></div> <span class="text-vb19-muted">Pending</span></div> <div class="flex items-center space-x-2"><div class="w-3 h-3 bg-red-100 border border-red-200 rounded"></div> <span class="text-vb19-muted">Booked</span></div> <div class="flex items-center space-x-2"><div class="w-3 h-3 bg-gray-300 rounded"></div> <span class="text-vb19-muted">Unavailable</span></div></div></div>');function wr(i,l){et(l,!1);const t=()=>Ge(bt,"$availability",_),r=()=>Ge(ot,"$selectedFacility",_),[_,p]=wt(),g=T(),y=T(),E=T(),N=T(),H=T(),ee=T(),Q=T(),se=T(),h=T(),B=T(),u=T(),O=T(),L=T(),z=T(),Z=yt();function w(o){const n=new Date(o);return n.setHours(0,0,0,0),n}function m(o,n){const f=new Date(o);return f.setDate(f.getDate()+n),f}function S(o,n){const f=new Date(o);return f.setMonth(f.getMonth()+n),f}const G=o=>String(o??"").toLowerCase(),ce=o=>{const n=o.getFullYear(),f=String(o.getMonth()+1).padStart(2,"0"),W=String(o.getDate()).padStart(2,"0");return`${n}-${f}-${W}`},te=w(new Date),X=m(te,1),V=new Date(w(S(te,2)).getTime()+(24*60*60*1e3-1));let x=T(new Date),C=T(null),D=T(null);function ve(o){return o.toLocaleDateString("en-GB")}let R=T(!1),De=T(null);function k(o,n){const f=new Date(o,n,1),W=new Date(f),he=(f.getDay()+6)%7;return W.setDate(1-he),w(W)}function ie(o,n){const f=k(o,n),W=m(f,42);return w(W)}function pe(o){var f;const n=(o||"").toLowerCase();return n.includes("club")?"CLUB_ROOM":n.includes("game")?"GAMES_ROOM":n.includes("bbq")?"BBQ_AREA":((f=r())==null?void 0:f.name)??"BBQ_AREA"}async function ne(){var o,n;if(!r()){bt.set({days:[]});return}c(R,!0),c(De,null);try{const f=k(e(N),e(E)),W=ie(e(N),e(E)),he=((o=r())==null?void 0:o.name)??pe((n=r())==null?void 0:n.displayName),le=await ir(he,ce(f),ce(W));bt.set({days:le})}catch(f){c(De,"Failed to load availability."),console.error("availability error:",f),bt.set({days:[]})}finally{c(R,!1)}}Kt(()=>{ne();const o=()=>{e(R)||ne()};return window.addEventListener("vb19:refresh-availability",o),()=>window.removeEventListener("vb19:refresh-availability",o)});function K(o,n,f=[]){const W=k(o,n),he=[];for(let le=0;le<42;le++){const fe=m(W,le),_e=w(fe),Ve=ce(_e),ye=be(Ve,f),J=_e<X||_e>V;he.push({date:_e,ts:_e.getTime(),dateString:Ve,day:_e.getDate(),isCurrentMonth:_e.getMonth()===n,isToday:_e.getTime()===te.getTime(),status:ye,isOutsideWindow:J,isSelectable:ye==="free"&&!J})}return he}function be(o,n){const f=(n||[]).find(W=>W.date===o);return f?f.status:"free"}function we(o,n=!1,f=!1,W=!1){if(n)return"bg-vb19-muted text-white";if(f)return"bg-vb19-bg text-vb19-primary";switch(o){case"booked":return"bg-red-100 text-red-800 cursor-not-allowed";case"blackout":return"bg-gray-300 text-gray-600 cursor-not-allowed";case"pending":return"bg-amber-100 text-amber-800 cursor-not-allowed";case"free":return W?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white text-vb19-text hover:bg-vb19-bg cursor-pointer";default:return"bg-white text-vb19-text hover:bg-vb19-bg cursor-pointer"}}function ke(o){switch(o){case"booked":return"✕";case"blackout":return"⚫";case"pending":return"•";default:return""}}function Ne(o){if(!o.isSelectable)return;const n=o.date;n<X||n>V||(!e(C)||e(C)&&e(D)?(c(C,n),c(D,null)):e(C)&&!e(D)&&(n<e(C)?(c(D,e(C)),c(C,n)):c(D,n),d(e(C),e(D))||(c(C,n),c(D,null))),Z("dateSelectionChanged",{start:e(C),end:e(D)}),Z("datesSelect",{start:e(C),end:e(D)}))}function d(o,n){var fe;if(!r()||!o)return!0;const f=n??o;if(o<X||f>V)return!1;const W=r().maxDays??1;if(Math.ceil((w(f).getTime()-w(o).getTime())/(1e3*60*60*24))+1>W)return!1;const le=new Date(o);for(;le<=f;){const _e=ce(w(le));if(be(_e,((fe=t())==null?void 0:fe.days)??[])!=="free")return!1;le.setDate(le.getDate()+1)}return!0}function A(){e(u)&&c(x,new Date(e(N),e(E)-1,1))}function ae(){e(z)&&c(x,new Date(e(N),e(E)+1,1))}function P(){c(C,null),c(D,null),Z("dateSelectionChanged",{start:null,end:null})}de(()=>e(C),()=>{c(g,e(C)?w(e(C)).getTime():null)}),de(()=>e(D),()=>{c(y,e(D)?w(e(D)).getTime():null)}),de(()=>e(x),()=>{c(E,e(x).getMonth())}),de(()=>e(x),()=>{c(N,e(x).getFullYear())}),de(()=>e(x),()=>{c(H,e(x).toLocaleDateString("en-US",{month:"long",year:"numeric"}))}),de(()=>(e(N),e(E),t()),()=>{var o;c(ee,K(e(N),e(E),((o=t())==null?void 0:o.days)??[]))}),de(()=>(e(ee),e(g),e(y)),()=>{c(Q,e(ee).map(o=>{const n=o.ts,f=e(g)!=null&&(e(y)!=null?n===e(g)||n===e(y):n===e(g)),W=e(g)!=null&&e(y)!=null&&n>=e(g)&&n<=e(y);return{...o,_selected:f,_inRange:W}}))}),de(()=>(e(C),e(D)),()=>{ra.set({start:e(C),end:e(D)})}),de(()=>r(),()=>{c(se,!!r()&&(r().overnight===!0||["clubroom","club room","club-room"].some(o=>{const n=G(r().slug??r().key??r().id),f=G(r().displayName);return n.includes(o)||f.includes(o)})))}),de(()=>(e(C),e(D)),()=>{c(h,e(C)&&e(D)?Math.ceil((w(e(D)).getTime()-w(e(C)).getTime())/(1e3*60*60*24))+1:1)}),de(()=>e(h),()=>{c(B,e(h))}),de(()=>r(),()=>{r()&&ne()}),de(()=>(e(E),e(N)),()=>{e(E)!=null&&e(N)!=null&&ne()}),de(()=>(e(N),e(E)),()=>{c(u,e(N)>te.getFullYear()||e(N)===te.getFullYear()&&e(E)>te.getMonth())}),de(()=>{},()=>{c(O,V.getMonth())}),de(()=>{},()=>{c(L,V.getFullYear())}),de(()=>(e(N),e(L),e(E),e(O)),()=>{c(z,e(N)<e(L)||e(N)===e(L)&&e(E)<e(O))}),Jt(),Je();var ue=yr(),re=s(ue),xe=s(re);{var U=o=>{var n=nr(),f=s(n);a(n),Y(()=>q(f,`Select dates for ${r(),I(()=>r().displayName)??""}`)),b(o,n)},Se=o=>{var n=or();b(o,n)};j(xe,o=>{r()?o(U):o(Se,!1)})}var qe=v(xe,2);{var lt=o=>{var n=lr();oe("click",n,P),b(o,n)};j(qe,o=>{e(C)&&o(lt)})}a(re);var dt=v(re,2);{var at=o=>{var n=dr();b(o,n)},ct=o=>{var n=Xe(),f=je(n);{var W=he=>{var le=cr(),fe=s(le,!0);a(le),Y(()=>q(fe,e(De))),b(he,le)};j(f,he=>{e(De)&&he(W)},!0)}b(o,n)};j(dt,o=>{e(R)?o(at):o(ct,!1)})}var vt=v(dt,2);{var rt=o=>{var n=vr();b(o,n)};j(vt,o=>{e(se)&&o(rt)})}var st=v(vt,2);{var kt=o=>{var n=br(),f=s(n),W=s(f),he=v(s(W),2);{var le=J=>{var me=ur(),Ae=s(me);a(me),Y((Be,Ie)=>q(Ae,`${Be??""} – ${Ie??""}`),[()=>(e(C),I(()=>ve(e(C)))),()=>(e(D),I(()=>ve(e(D))))]),b(J,me)},fe=J=>{var me=mr(),Ae=s(me,!0);a(me),Y(Be=>q(Ae,Be),[()=>(e(C),I(()=>ve(e(C))))]),b(J,me)};j(he,J=>{r(),e(D),e(h),I(()=>{var me;return(((me=r())==null?void 0:me.maxDays)??1)>1&&e(D)&&e(h)>1})?J(le):J(fe,!1)})}a(W);var _e=v(W,2);{var Ve=J=>{var me=fr(),Ae=s(me);{var Be=$e=>{var Pe=Pt();Y(()=>q(Pe,`${e(B)??""} ${e(B)===1?"night":"nights"}`)),b($e,Pe)},Ie=$e=>{var Pe=Pt("1 night");b($e,Pe)};j(Ae,$e=>{e(D)?$e(Be):$e(Ie,!1)})}Ke(),a(me),b(J,me)},ye=J=>{var me=Xe(),Ae=je(me);{var Be=Ie=>{var $e=pr(),Pe=s($e);a($e),Y(()=>q(Pe,`${e(h)??""} ${e(h)===1?"day":"days"}`)),b(Ie,$e)};j(Ae,Ie=>{r(),e(D),e(h),I(()=>{var $e;return((($e=r())==null?void 0:$e.maxDays)??1)>1&&e(D)&&e(h)>1})&&Ie(Be)})}b(J,me)};j(_e,J=>{e(se)?J(Ve):J(ye,!1)})}a(f),a(n),b(o,n)};j(st,o=>{e(C)&&o(kt)})}var it=v(st,2),He=s(it),Ye=v(He,2),$t=s(Ye,!0);a(Ye);var Oe=v(Ye,2);a(it);var Qe=v(it,2),Fe=s(Qe);gt(Fe,0,()=>["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],ta,(o,n)=>{var f=gr(),W=s(f,!0);a(f),Y(()=>q(W,n)),b(o,f)});var Mt=v(Fe,2);gt(Mt,1,()=>e(Q),o=>o.dateString,(o,n)=>{var f=_r(),W=s(f),he=s(W,!0);a(W);var le=v(W,2);{var fe=ye=>{var J=hr(),me=s(J,!0);a(J),Y(Ae=>q(me,Ae),[()=>(e(n),I(()=>ke(e(n).status)))]),b(ye,J)};j(le,ye=>{e(n),I(()=>ke(e(n).status))&&ye(fe)})}var _e=v(le,2);{var Ve=ye=>{var J=xr();b(ye,J)};j(_e,ye=>{e(n),I(()=>e(n).isToday)&&ye(Ve)})}a(f),Y((ye,J)=>{Ee(f,1,`relative p-2 text-sm border border-gray-200 rounded-lg transition-all duration-200 min-h-[40px]
               ${ye??""}
               ${e(n),I(()=>e(n).isCurrentMonth?"":"opacity-30")??""}`),f.disabled=(e(n),I(()=>!e(n).isSelectable)),Ce(f,"aria-disabled",(e(n),I(()=>!e(n).isSelectable))),Ce(f,"title",J),q(he,(e(n),I(()=>e(n).day)))},[()=>(e(n),I(()=>we(e(n).status,e(n)._selected,e(n)._inRange,e(n).isOutsideWindow))),()=>(e(n),I(()=>`${e(n).date.toLocaleDateString()} — ${e(n).status}`))]),oe("click",f,()=>Ne(e(n))),b(o,f)}),a(Qe),Ke(2),a(ue),Y(()=>{Ee(He,1,`p-2 rounded-lg transition-colors duration-200 ${e(u)?"hover:bg-gray-100":"opacity-40 cursor-not-allowed"}`),He.disabled=!e(u),Ce(He,"aria-disabled",!e(u)),q($t,e(H)),Ee(Oe,1,`p-2 rounded-lg transition-colors duration-200 ${e(z)?"hover:bg-gray-100":"opacity-40 cursor-not-allowed"}`),Oe.disabled=!e(z),Ce(Oe,"aria-disabled",!e(z))}),oe("click",He,A),oe("click",Oe,ae),b(i,ue),tt(),p()}var kr=M('<div class="text-center py-8 text-vb19-muted"><svg class="w-12 h-12 mx-auto mb-3 opacity-50" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg> <p>Please select a facility to continue with booking</p></div>'),$r=M('<div class="text-center py-8 text-vb19-muted"><svg class="w-12 h-12 mx-auto mb-3 opacity-50" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2z"></path></svg> <p> </p></div>'),Mr=M('<div class="flex justify-between"><span class="text-vb19-muted">Deposit:</span> <span class="text-vb19-accent font-medium"> </span></div>'),Dr=M('<div class="mb-6 p-4 bg-amber-50 border border-amber-200 rounded-lg"><div class="flex items-start space-x-3"><svg class="w-5 h-5 text-amber-600 mt-0.5 flex-shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"></path></svg> <div><h4 class="font-medium text-amber-800 mb-1">Important Notice</h4> <p class="text-sm text-amber-700"> </p></div></div></div>'),Sr=M('<p class="mt-1 text-sm text-red-600"> </p>'),Ar=M('<p class="mt-1 text-sm text-red-600"> </p>'),Er=M('<p class="mt-1 text-sm text-red-600"> </p>'),Nr=M(`<p class="mt-1 text-sm text-vb19-muted">We'll send booking confirmation and updates to this email</p>`),Br=M('<div class="p-3 bg-red-50 border border-red-200 rounded-lg"><p class="text-sm text-red-600"> </p></div>'),Cr=M('<svg class="animate-spin -ml-1 mr-3 h-5 w-5 text-white" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg> <span>Submitting...</span>',1),Rr=M("<span> </span>"),Tr=ea('<svg class="w-5 h-5 text-green-600" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>'),Lr=ea('<svg class="w-5 h-5 text-red-600" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"></path></svg>'),jr=M('<div class="mt-3"><button type="button" class="text-sm text-green-700 hover:text-green-800 font-medium">Make another booking</button></div>'),Or=M('<div><div class="flex items-start space-x-3"><div class="flex-shrink-0"><!></div> <div><h4> </h4> <p> </p> <!></div></div></div>'),Fr=M(`<div class="mb-6 p-4 bg-blue-50 border border-blue-200 rounded-lg"><h4 class="font-semibold text-vb19-text mb-2">Booking Summary</h4> <div class="space-y-1 text-sm"><div class="flex justify-between"><span class="text-vb19-muted">Facility:</span> <span class="text-vb19-text font-medium"> </span></div> <div class="flex justify-between"><span class="text-vb19-muted">Dates:</span> <span class="text-vb19-text font-medium"> </span></div> <div class="flex justify-between"><span class="text-vb19-muted">Status:</span> <span class="text-vb19-text font-medium"> </span></div> <!></div></div> <!> <form class="space-y-6"><div><label for="roomNumber" class="form-label">Room Number <span class="text-red-500">*</span></label> <input id="roomNumber" type="text" placeholder="e.g., 1510, 2313, WB215, PW3" autocomplete="off" spellcheck="false" maxlength="10" pattern="[A-Za-z0-9 ]+" title="Use letters, numbers, and spaces only"/> <!></div> <div><label for="name" class="form-label">Full Name <span class="text-red-500">*</span></label> <input id="name" type="text" placeholder="Your full name" autocomplete="name" spellcheck="false" maxlength="60" pattern="[A-Za-z' -]+" title="Use letters, spaces, hyphens (-), and apostrophes (') only"/> <!></div> <div><label for="email" class="form-label">Email Address <span class="text-red-500">*</span></label> <input id="email" type="email" placeholder="your.email@example.com" inputmode="email" autocomplete="email" spellcheck="false" maxlength="254"/> <!></div> <!> <div class="pt-4"><button type="submit" class="w-full btn-primary disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2"><!></button></div></form> <!> <div class="mt-6 p-4 bg-gray-50 border border-gray-200 rounded-lg"><h4 class="font-medium text-vb19-text mb-2">Need Help?</h4> <p class="text-sm text-vb19-muted mb-2">If you have questions about booking or need assistance, contact our representatives:</p> <a href="mailto:base19.reps@outlook.com" class="text-sm text-vb19-primary hover:text-blue-700 font-medium">base19.reps@outlook.com</a></div>`,1),Ir=M('<div class="booking-form"><!></div>');function zr(i,l){et(l,!1);const t=()=>Ge(ra,"$selectedDates",_),r=()=>Ge(ot,"$selectedFacility",_),[_,p]=wt(),g=T(),y=T(),E=T(),N=T(),H=T(),ee=T(),Q=yt(),se=/^[A-Za-z0-9 ]+$/,h=10,B=d=>(d??"").replace(/[^A-Za-z0-9 ]/g,"").replace(/\s+/g," ").trim(),u=/^[A-Za-z' -]+$/,O=60,L=d=>(d??"").replace(/[^A-Za-z' -]/g,""),z=d=>(d??"").replace(/[^A-Za-z' -]/g,"").replace(/\s+/g," ").replace(/-{2,}/g,"-").replace(/'{2,}/g,"'").replace(/^[ '-]+|[ '-]+$/g,""),Z=254,w=d=>(d??"").replace(/[\s\r\n\t<>,:;#$%^*&!()=+{}|"?/~]/g,"").trim(),m=d=>{d=w(d);const A=d.lastIndexOf("@");if(A===-1)return d;const ae=d.slice(0,A),P=d.slice(A+1).toLowerCase();return`${ae}@${P}`};function S(d){if(!d||d.length>Z||/[ \t\r\n]/.test(d))return!1;const A=d.split("@");if(A.length!==2)return!1;const[ae,P]=A;return!(!ae||!P||!P.includes(".")||P.split(".").some(re=>!re||re.startsWith("-")||re.endsWith("-")||re.length>63))}function G(d){d.isComposing||d.inputType==="insertText"&&/[\s\r\n<>,;]/.test(d.data||"")&&d.preventDefault()}function ce(d){var P;const A=((P=d.clipboardData)==null?void 0:P.getData("text"))??"",ae=w(A);if(A!==ae){d.preventDefault();const ue=d.target,{selectionStart:re,selectionEnd:xe,value:U}=ue,Se=U.slice(0,re??0)+ae+U.slice(xe??U.length);ue.value=Se,pe("email",Se);const qe=(re??0)+ae.length;requestAnimationFrame(()=>ue.setSelectionRange(qe,qe))}}function te(d){const A=new Date(d);return A.setHours(0,0,0,0),A}function X(d){if(!d)return null;const A=te(d),ae=A.getFullYear(),P=String(A.getMonth()+1).padStart(2,"0"),ue=String(A.getDate()).padStart(2,"0");return`${ae}-${P}-${ue}`}function V(d){return d?d.toLocaleDateString("en-GB"):""}let x=T({roomNumber:"",name:"",email:""}),C=T(!1),D=T(null),ve=T(""),R=T({});function De(d){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(d)}function k(d){var ae;const A=(d||"").toLowerCase();return A.includes("club")?"CLUB_ROOM":A.includes("game")?"GAMES_ROOM":A.includes("bbq")?"BBQ_AREA":((ae=r())==null?void 0:ae.name)??"BBQ_AREA"}function ie(){const d={},A=B(e(x).roomNumber||"");A?se.test(A)?A.length>h?d.roomNumber=`Max ${h} characters`:Ue(x,e(x).roomNumber=A):d.roomNumber="Use letters, numbers, and spaces only":d.roomNumber="Room number is required";const ae=z(e(x).name);ae?u.test(ae)?ae.length>O?d.name=`Max ${O} characters`:Ue(x,e(x).name=ae):d.name="Use letters, spaces, hyphens (-), and apostrophes (') only":d.name="Name is required";const P=m(e(x).email);return P?S(P)?Ue(x,e(x).email=P):d.email="Please enter a valid email address":d.email="Email is required",e(g)||(d.dates="Please select your booking dates"),c(R,d),Object.keys(d).length===0}function pe(d,A){if(d==="roomNumber"&&(A=B(A)),d==="name"&&(A=L(A)),d==="email"&&(A=w(A)),Ue(x,e(x)[d]=A),e(R)[d]){const{[d]:ae,...P}=e(R);c(R,P)}}async function ne(){var re,xe;if(!ie())return;c(C,!0),c(D,null),c(ve,"");const d=X(e(g)),A=e(E)&&e(y)?X(e(y)):d,ae=rr(A),ue={facilityName:k((re=r())==null?void 0:re.displayName),startDate:d,endDate:ae,roomNumber:e(x).roomNumber.trim(),name:e(x).name.trim(),email:e(x).email.trim()};try{const U=await sr(ue);c(D,"success"),window.dispatchEvent(new CustomEvent("vb19:refresh-availability"));const Se=e(H)||`${d}${A!==d?` – ${A}`:""}`;U.status==="CONFIRMED"?c(ve,`Success! Your ${r().displayName} booking for ${Se} is confirmed. We’ve emailed ${e(x).email}.`):c(ve,`Thanks! We’ve received your request for the ${r().displayName} (${Se}). A representative will contact you to arrange key pickup. A €200 deposit is required at pickup.`),Q("submit",{...ue,id:U.id,status:U.status}),setTimeout(K,4e3)}catch(U){c(D,"error"),(U==null?void 0:U.error)==="UNAVAILABLE"||(U==null?void 0:U.error)==="UNAVAILABLE_BLACKOUT"?c(ve,"Sorry, those dates are not available. Please choose different dates."):(U==null?void 0:U.error)==="TOO_LONG"?c(ve,`Selected date range is too long. Max ${((xe=r())==null?void 0:xe.maxDays)??1} day(s) for this facility.`):(U==null?void 0:U.error)==="INVALID_EMAIL"?(c(R,{...e(R),email:"Please enter a valid email address"}),c(ve,"Please check your information and try again.")):(U==null?void 0:U.error)==="BAD_DATES"?(c(R,{...e(R),dates:"Please check your dates"}),c(ve,"Please check your information and try again.")):(c(ve,"Something went wrong. Please try again or contact our representatives."),console.error("createReservation failed:",U))}finally{c(C,!1)}}function K(){c(x,{roomNumber:"",name:"",email:""}),c(R,{}),c(D,null),c(ve,"")}de(()=>t(),()=>{c(g,t().start)}),de(()=>t(),()=>{c(y,t().end)}),de(()=>r(),()=>{var d;c(E,(((d=r())==null?void 0:d.maxDays)??1)>1)}),de(()=>e(g),()=>{c(N,!!e(g))}),de(()=>(e(g),e(E),e(y)),()=>{c(H,e(g)?e(E)&&e(y)&&te(e(g)).getTime()!==te(e(y)).getTime()?`${V(e(g))} – ${V(e(y))}`:V(e(g)):"")}),de(()=>(e(x),e(N)),()=>{c(ee,e(x).roomNumber.trim()&&e(x).name.trim()&&e(x).email.trim()&&De(e(x).email)&&e(N))}),Jt(),Je();var be=Ir(),we=s(be);{var ke=d=>{var A=kr();b(d,A)},Ne=d=>{var A=Xe(),ae=je(A);{var P=re=>{var xe=$r(),U=v(s(xe),2),Se=s(U);a(U),a(xe),Y(()=>q(Se,`Please select your booking ${e(E)?"date range":"date"} to continue`)),b(re,xe)},ue=re=>{var xe=Fr(),U=je(xe),Se=v(s(U),2),qe=s(Se),lt=v(s(qe),2),dt=s(lt,!0);a(lt),a(qe);var at=v(qe,2),ct=v(s(at),2),vt=s(ct,!0);a(ct),a(at);var rt=v(at,2),st=v(s(rt),2),kt=s(st,!0);a(st),a(rt);var it=v(rt,2);{var He=$=>{var F=Mr(),ge=v(s(F),2),Me=s(ge);a(ge),a(F),Y(()=>q(Me,`€${r(),I(()=>r().depositEur)??""}`)),b($,F)};j(it,$=>{r(),I(()=>r().depositEur)&&$(He)})}a(Se),a(U);var Ye=v(U,2);{var $t=$=>{var F=Dr(),ge=s(F),Me=v(s(ge),2),ut=v(s(Me),2),Dt=s(ut,!0);a(ut),a(Me),a(ge),a(F),Y(()=>q(Dt,(r(),I(()=>r().termsNote)))),b($,F)};j(Ye,$=>{r(),I(()=>r().termsNote)&&$($t)})}var Oe=v(Ye,2),Qe=s(Oe),Fe=v(s(Qe),2);Nt(Fe);var Mt=v(Fe,2);{var o=$=>{var F=Sr(),ge=s(F,!0);a(F),Y(()=>q(ge,(e(R),I(()=>e(R).roomNumber)))),b($,F)};j(Mt,$=>{e(R),I(()=>e(R).roomNumber)&&$(o)})}a(Qe);var n=v(Qe,2),f=v(s(n),2);Nt(f);var W=v(f,2);{var he=$=>{var F=Ar(),ge=s(F,!0);a(F),Y(()=>q(ge,(e(R),I(()=>e(R).name)))),b($,F)};j(W,$=>{e(R),I(()=>e(R).name)&&$(he)})}a(n);var le=v(n,2),fe=v(s(le),2);Nt(fe);var _e=v(fe,2);{var Ve=$=>{var F=Er(),ge=s(F,!0);a(F),Y(()=>q(ge,(e(R),I(()=>e(R).email)))),b($,F)},ye=$=>{var F=Nr();b($,F)};j(_e,$=>{e(R),I(()=>e(R).email)?$(Ve):$(ye,!1)})}a(le);var J=v(le,2);{var me=$=>{var F=Br(),ge=s(F),Me=s(ge,!0);a(ge),a(F),Y(()=>q(Me,(e(R),I(()=>e(R).dates)))),b($,F)};j(J,$=>{e(R),I(()=>e(R).dates)&&$(me)})}var Ae=v(J,2),Be=s(Ae),Ie=s(Be);{var $e=$=>{var F=Cr();Ke(2),b($,F)},Pe=$=>{var F=Rr(),ge=s(F,!0);a(F),Y(()=>q(ge,(r(),I(()=>{var Me;return(Me=r())!=null&&Me.requiresApproval?"Submit Request":"Book Now"})))),b($,F)};j(Ie,$=>{e(C)?$($e):$(Pe,!1)})}a(Be),a(Ae),a(Oe);var ia=v(Oe,2);{var na=$=>{var F=Or(),ge=s(F),Me=s(ge),ut=s(Me);{var Dt=Re=>{var We=Tr();b(Re,We)},oa=Re=>{var We=Lr();b(Re,We)};j(ut,Re=>{e(D)==="success"?Re(Dt):Re(oa,!1)})}a(Me);var It=v(Me,2),mt=s(It),la=s(mt,!0);a(mt);var ft=v(mt,2),da=s(ft,!0);a(ft);var ca=v(ft,2);{var va=Re=>{var We=jr(),ua=s(We);a(We),oe("click",ua,K),b(Re,We)};j(ca,Re=>{e(D)==="success"&&Re(va)})}a(It),a(ge),a(F),Y(()=>{Ee(F,1,`mt-6 p-4 rounded-lg ${e(D)==="success"?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"}`),Ee(mt,1,`font-medium ${e(D)==="success"?"text-green-800":"text-red-800"} mb-1`),q(la,e(D)==="success"?"Booking Submitted!":"Booking Failed"),Ee(ft,1,`text-sm ${e(D)==="success"?"text-green-700":"text-red-700"}`),q(da,e(ve))}),b($,F)};j(ia,$=>{e(D)&&$(na)})}Ke(2),Y(()=>{q(dt,(r(),I(()=>r().displayName))),q(vt,e(H)),q(kt,(r(),I(()=>r().requiresApproval?"Requires approval":"Auto-approved"))),Ee(Fe,1,`form-input ${e(R),I(()=>e(R).roomNumber?"border-red-300 focus:ring-red-500":"")??""}`),Fe.disabled=e(C),Ee(f,1,`form-input ${e(R),I(()=>e(R).name?"border-red-300 focus:ring-red-500":"")??""}`),f.disabled=e(C),Ee(fe,1,`form-input ${e(R),I(()=>e(R).email?"border-red-300 focus:ring-red-500":"")??""}`),fe.disabled=e(C),Be.disabled=!e(ee)||e(C)}),Ct(Fe,()=>e(x).roomNumber,$=>Ue(x,e(x).roomNumber=$)),oe("input",Fe,$=>pe("roomNumber",$.target.value)),Ct(f,()=>e(x).name,$=>Ue(x,e(x).name=$)),oe("input",f,$=>pe("name",$.target.value)),Ct(fe,()=>e(x).email,$=>Ue(x,e(x).email=$)),oe("beforeinput",fe,G),oe("paste",fe,ce),oe("input",fe,$=>pe("email",$.target.value)),oe("blur",fe,()=>Ue(x,e(x).email=m(e(x).email))),oe("submit",Oe,qa(ne)),b(re,xe)};j(ae,re=>{e(N)?re(ue,!1):re(P)},!0)}b(d,A)};j(we,d=>{r()?d(Ne,!1):d(ke)})}a(be),b(i,be),tt(),p()}var qr=M('<button type="button" class="flex-shrink-0 ml-2 opacity-70 hover:opacity-100 transition-opacity duration-200"><svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></button>'),Vr=M('<div class="fixed top-4 right-4 z-50 max-w-sm w-full transform transition-all duration-300 ease-in-out" role="alert"><div><div class="flex items-start space-x-3"><div class="flex-shrink-0"><svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"></path></svg></div> <div class="flex-1 min-w-0"><p class="text-sm font-medium"> </p></div> <!></div></div></div>');function Pr(i,l){et(l,!1);let t=pt(l,"type",8,"info"),r=pt(l,"message",8,""),_=pt(l,"duration",8,5e3),p=pt(l,"dismissible",8,!0);const g=yt();let y=T(!0),E;Kt(()=>(_()>0&&(E=setTimeout(()=>{N()},_())),()=>{E&&clearTimeout(E)}));function N(){E&&(clearTimeout(E),E=null),c(y,!1),g("close")}function H(B){switch(B){case"success":return"bg-green-50 border-green-200 text-green-800";case"error":return"bg-red-50 border-red-200 text-red-800";case"warning":return"bg-amber-50 border-amber-200 text-amber-800";default:return"bg-blue-50 border-blue-200 text-blue-800"}}function ee(B){switch(B){case"success":return"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z";case"error":return"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z";case"warning":return"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z";default:return"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}}Je();var Q=Xe(),se=je(Q);{var h=B=>{var u=Vr(),O=s(u),L=s(O),z=s(L),Z=s(z),w=s(Z);a(Z),a(z);var m=v(z,2),S=s(m),G=s(S,!0);a(S),a(m);var ce=v(m,2);{var te=X=>{var V=qr();oe("click",V,N),b(X,V)};j(ce,X=>{p()&&X(te)})}a(L),a(O),a(u),Y((X,V)=>{Ee(O,1,`p-4 border rounded-lg shadow-lg ${X??""}`),Ce(w,"d",V),q(G,r())},[()=>(Ut(t()),I(()=>H(t()))),()=>(Ut(t()),I(()=>ee(t())))]),b(B,u)};j(se,B=>{e(y)&&B(h)})}b(i,Q),tt()}var Ur=M('<meta name="description" content="Book shared facilities at ViennaBase19. Choose from Club Room, Games Room, or BBQ Area for your next gathering."/>'),Hr=M('<div class="card animate-bounce-in"><!></div>'),Wr=M('<div class="card animate-slide-up" style="animation-delay: 0.4s;"><h3 class="text-2xl font-bold gradient-text mb-6 flex items-center"><span class="bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-full w-8 h-8 flex items-center justify-center text-sm font-bold mr-3">2</span> Select Your Dates</h3> <!></div>'),Gr=M('<div class="card animate-bounce-in"><h3 class="text-2xl font-bold gradient-text mb-6 flex items-center"><span class="bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-full w-8 h-8 flex items-center justify-center text-sm font-bold mr-3">3</span> Complete Your Booking</h3> <!></div>'),Yr=M('<div class="card text-center animate-slide-up"><div class="w-16 h-16 bg-gradient-to-br from-purple-100 to-pink-100 rounded-2xl flex items-center justify-center mx-auto mb-4"><svg class="w-8 h-8 text-purple-500" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path></svg></div> <h3 class="text-xl font-semibold text-gray-700 mb-2">Step 3: Complete Your Booking</h3> <p class="text-gray-500">Please select your booking dates to continue</p></div>'),Qr=M('<section class="relative min-h-screen flex items-center justify-center overflow-hidden"><div class="absolute inset-0 bg-cover bg-center bg-no-repeat"></div> <div class="absolute inset-0 bg-black/40"></div> <div class="relative z-10 text-center px-4 max-w-4xl mx-auto"><div class="animate-bounce-in"><h1 class="text-5xl md:text-7xl font-bold text-white mb-6 leading-tight">Welcome to ViennaBase19 <span class="block bg-gradient-to-r from-yellow-300 via-pink-300 to-orange-300 bg-clip-text text-transparent">Reps Portal</span></h1></div> <div class="animate-slide-up" style="animation-delay: 0.3s;"><p class="text-xl md:text-2xl text-white/90 mb-8 leading-relaxed">We’re working hard to make dorm life even better — upgrading current spaces, adding new facilities, and bringing you fun events to enjoy together!</p></div> <div class="animate-slide-up" style="animation-delay: 0.6s;"><p class="text-lg text-white/80 mb-12">Select a facility, choose your dates, and submit your booking request. Our representatives will review and confirm your request.</p></div> <div class="animate-slide-up" style="animation-delay: 0.9s;"><button class="btn-primary text-lg px-8 py-4 pulse-glow">🚀 Start Booking</button></div></div> <div class="absolute bottom-8 left-1/2 transform -translate-x-1/2 animate-bounce"><div class="w-6 h-10 border-2 border-white/50 rounded-full flex justify-center"><div class="w-1 h-3 bg-white/70 rounded-full mt-2 animate-pulse"></div></div></div></section> <section id="booking-section" class="py-20 px-4"><div class="max-w-7xl mx-auto"><div class="text-center mb-16 animate-slide-up"><h2 class="text-4xl md:text-5xl font-bold gradient-text mb-6">Book Your Facility</h2> <p class="text-xl text-gray-600 max-w-3xl mx-auto">Select a facility, choose your dates, and submit your booking request. Our representatives will review and confirm your request.</p></div> <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 items-start"><div class="space-y-8 animate-slide-up" style="animation-delay: 0.2s;"><div class="card"><h3 class="text-2xl font-bold gradient-text mb-6 flex items-center"><span class="bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-full w-8 h-8 flex items-center justify-center text-sm font-bold mr-3">1</span> What would you like to book?</h3> <!></div> <!></div> <div class="space-y-8"><!> <!></div></div></div></section> <section class="py-20 px-4 bg-gradient-to-br from-purple-50 to-pink-50"><div class="max-w-6xl mx-auto"><div class="text-center mb-16 animate-slide-up"><h2 class="text-4xl font-bold gradient-text mb-6">Community Guidelines</h2> <p class="text-xl text-gray-600">Simple rules to ensure everyone enjoys our shared spaces</p></div> <div class="grid grid-cols-1 md:grid-cols-3 gap-8"><div class="card text-center facility-card animate-slide-up" style="animation-delay: 0.1s;"><div class="w-16 h-16 bg-gradient-to-br from-green-400 to-blue-500 rounded-2xl flex items-center justify-center mx-auto mb-6"><svg class="w-8 h-8 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></div> <h3 class="text-xl font-bold gradient-text mb-4">Respect Time Limits</h3> <p class="text-gray-600">Club Room & Games Room: Max 2 days • BBQ Area: Max 1 day per booking</p></div> <div class="card text-center facility-card animate-slide-up" style="animation-delay: 0.3s;"><div class="w-16 h-16 bg-gradient-to-br from-purple-400 to-pink-500 rounded-2xl flex items-center justify-center mx-auto mb-6"><svg class="w-8 h-8 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"></path></svg></div> <h3 class="text-xl font-bold gradient-text mb-4">Clean Up After Use</h3> <p class="text-gray-600">Leave facilities clean and tidy for the next resident to enjoy</p></div> <div class="card text-center facility-card animate-slide-up" style="animation-delay: 0.5s;"><div class="w-16 h-16 bg-gradient-to-br from-orange-400 to-red-500 rounded-2xl flex items-center justify-center mx-auto mb-6"><svg class="w-8 h-8 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></div> <h3 class="text-xl font-bold gradient-text mb-4">Follow House Rules</h3> <p class="text-gray-600">Respect noise levels and building policies during your booking</p></div></div></div></section> <!>',1);function rs(i,l){et(l,!1);function t(k){return/^(https?:|data:|blob:)/i.test(k)||k.startsWith(ze+"/")?k:k.startsWith("/")?`${ze}${k}`:`${ze}/${k}`}let r=T(null),_=T({start:null,end:null}),p=T(!1),g=T(""),y=T("success"),E=T(!1);function N(k){c(r,k.detail),c(_,{start:null,end:null}),c(p,!1),console.log("Selected facility:",e(r))}function H(k){c(_,k.detail||{start:null,end:null}),c(p,!!e(_).start)}function ee(k){k.detail,setTimeout(()=>{e(r)&&e(r).requiresApproval===!1?(c(g,"Booking confirmed! Your reservation is ready."),c(y,"success")):(c(g,"Booking request submitted! We'll review and confirm within 24 hours."),c(y,"info")),c(E,!0),c(_,{start:null,end:null}),c(p,!1)},1e3)}function Q(){var k;(k=document.getElementById("booking-section"))==null||k.scrollIntoView({behavior:"smooth",block:"start"})}Je();var se=Qr();La(k=>{var ie=Ur();ja.title="ViennaBase19 - Book Your Facility",b(k,ie)});var h=je(se),B=s(h),u=v(B,4),O=v(s(u),6),L=s(O);a(O),a(u),Ke(2),a(h);var z=v(h,2),Z=s(z),w=v(s(Z),2),m=s(w),S=s(m),G=v(s(S),2);Ya(G,{$$events:{facilityChanged:N}}),a(S);var ce=v(S,2);{var te=k=>{var ie=Hr(),pe=s(ie);ar(pe,{get facility(){return e(r)}}),a(ie),b(k,ie)};j(ce,k=>{e(r)&&k(te)})}a(m);var X=v(m,2),V=s(X);{var x=k=>{var ie=Wr(),pe=v(s(ie),2);wr(pe,{get facility(){return e(r)},$$events:{datesSelect:H}}),a(ie),b(k,ie)};j(V,k=>{e(r)&&k(x)})}var C=v(V,2);{var D=k=>{var ie=Gr(),pe=v(s(ie),2);zr(pe,{get facility(){return e(r)},get dates(){return e(_)},$$events:{submit:ee}}),a(ie),b(k,ie)},ve=k=>{var ie=Xe(),pe=je(ie);{var ne=K=>{var be=Yr();b(K,be)};j(pe,K=>{e(r)&&K(ne)},!0)}b(k,ie)};j(C,k=>{e(p)?k(D):k(ve,!1)})}a(X),a(w),a(Z),a(z);var R=v(z,4);{var De=k=>{Pr(k,{get type(){return e(y)},get message(){return e(g)},$$events:{close:()=>c(E,!1)}})};j(R,k=>{e(E)&&k(De)})}Y(k=>za(B,k),[()=>`background-image: url('${t("/banner.png")}')`]),oe("click",L,Q),b(i,se),tt()}export{rs as component};

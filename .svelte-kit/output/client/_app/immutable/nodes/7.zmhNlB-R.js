import{f as _,a as p}from"../chunks/D8bjOph7.js";import"../chunks/BV7DkQhB.js";import{p as It,l as F,a as St,t as g,c as a,g as t,b as $t,$ as Gt,d as n,u as o,m as y,n as T,r as s,G as Ot,s as f}from"../chunks/Cy1Q1AeQ.js";import{s as u}from"../chunks/CT7QVDLL.js";import{i as lt}from"../chunks/BgSNG9tS.js";import{e as M,i as ct}from"../chunks/7hXyg6yC.js";import{h as Pt}from"../chunks/Iodbp_-i.js";import{e as H}from"../chunks/4bUo1EiA.js";import{s as V}from"../chunks/CGvEPh6O.js";import{b as jt}from"../chunks/CVSxDc1S.js";import{i as Qt}from"../chunks/CV6ihNMJ.js";import{f as Jt}from"../chunks/DyTerzab.js";var Wt=_("<option> </option>"),Ht=_('<div class="p-3 text-center text-sm font-medium text-vb19-muted bg-gray-50"> </div>'),Vt=_('<div class="w-1 h-4 bg-vb19-accent rounded"></div>'),Yt=_('<div><div class="font-medium"> </div> <div class="opacity-75"> </div></div>'),Ut=_('<div class="text-xs p-1 rounded bg-red-100 border border-red-300 text-red-800 truncate"><div class="font-medium">Blackout</div> <div class="opacity-75"> </div></div>'),qt=_('<div class="absolute bottom-1 right-1 text-xs text-vb19-muted"> </div>'),zt=_('<div><div class="flex items-center justify-between mb-1"><span> </span> <!></div> <div class="space-y-1"><!> <!></div> <!></div>'),Kt=_('<div class="space-y-6"><div class="flex justify-between items-center"><div><h1 class="text-3xl font-bold text-vb19-text">Calendar View</h1> <p class="mt-2 text-vb19-muted">Overview of all facility bookings and blackouts</p></div> <div class="flex space-x-3"><button class="btn-secondary">Today</button> <button class="btn-primary"><svg class="w-4 h-4 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path></svg> Create Booking</button></div></div> <div class="card"><div class="flex flex-col md:flex-row justify-between items-start md:items-center space-y-4 md:space-y-0"><div class="flex items-center space-x-4"><div class="flex items-center space-x-2"><button type="button" class="p-2 rounded-lg hover:bg-gray-100 transition-colors duration-200"><svg class="w-5 h-5 text-vb19-muted" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path></svg></button> <h2 class="text-xl font-semibold text-vb19-text min-w-[200px] text-center"> </h2> <button type="button" class="p-2 rounded-lg hover:bg-gray-100 transition-colors duration-200"><svg class="w-5 h-5 text-vb19-muted" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg></button></div></div> <div class="flex items-center space-x-4"><div><label class="form-label text-sm">Filter by Facility</label> <select class="form-input text-sm"><option>All Facilities</option><!></select></div></div></div></div> <div class="card"><h3 class="text-sm font-semibold text-vb19-text mb-3">Legend</h3> <div class="grid grid-cols-2 md:grid-cols-4 gap-4 text-xs"><div class="flex items-center space-x-2"><div class="w-3 h-3 bg-blue-100 border border-blue-300 rounded"></div> <span class="text-vb19-muted">Club Room</span></div> <div class="flex items-center space-x-2"><div class="w-3 h-3 bg-purple-100 border border-purple-300 rounded"></div> <span class="text-vb19-muted">Games Room</span></div> <div class="flex items-center space-x-2"><div class="w-3 h-3 bg-orange-100 border border-orange-300 rounded"></div> <span class="text-vb19-muted">BBQ Area</span></div> <div class="flex items-center space-x-2"><div class="w-3 h-3 bg-red-100 border border-red-300 rounded"></div> <span class="text-vb19-muted">Blackout</span></div></div> <div class="grid grid-cols-2 md:grid-cols-4 gap-4 text-xs mt-2"><div class="flex items-center space-x-2"><div class="w-3 h-3 bg-green-200 rounded"></div> <span class="text-vb19-muted">Confirmed</span></div> <div class="flex items-center space-x-2"><div class="w-3 h-3 bg-yellow-200 rounded"></div> <span class="text-vb19-muted">Pending</span></div> <div class="flex items-center space-x-2"><div class="w-3 h-3 bg-gray-200 rounded"></div> <span class="text-vb19-muted">Cancelled</span></div> <div class="flex items-center space-x-2"><div class="w-1 h-3 bg-vb19-accent rounded"></div> <span class="text-vb19-muted">Today</span></div></div></div> <div class="card"><div class="grid grid-cols-7 gap-1"><!> <!></div></div> <div class="grid grid-cols-1 md:grid-cols-3 gap-6"><div class="card text-center"><div class="text-2xl font-bold text-vb19-text mb-2"> </div> <div class="text-sm text-vb19-muted">Pending Approvals</div></div> <div class="card text-center"><div class="text-2xl font-bold text-vb19-text mb-2"> </div> <div class="text-sm text-vb19-muted">This Week</div></div> <div class="card text-center"><div class="text-2xl font-bold text-vb19-text mb-2"> </div> <div class="text-sm text-vb19-muted">Active Blackouts</div></div></div></div>');function le(ut,mt){It(mt,!1);const k=y(),N=y(),Y=y(),U=y(),A=[{id:1,facilityName:"Club Room",residentName:"John Doe",startDate:"2025-09-15",endDate:"2025-09-15",status:"PENDING"},{id:2,facilityName:"BBQ Area",residentName:"Jane Smith",startDate:"2025-09-14",endDate:"2025-09-14",status:"CONFIRMED"},{id:3,facilityName:"Games Room",residentName:"Mike Johnson",startDate:"2025-09-16",endDate:"2025-09-16",status:"PENDING"},{id:4,facilityName:"Club Room",residentName:"Sarah Wilson",startDate:"2025-09-18",endDate:"2025-09-19",status:"CONFIRMED"},{id:5,facilityName:"BBQ Area",residentName:"Tom Brown",startDate:"2025-09-20",endDate:"2025-09-20",status:"CONFIRMED"}],q=[{id:1,facilityName:"Club Room",startDate:"2025-09-22",endDate:"2025-09-23",reason:"Maintenance"}];let b=y(new Date),D=y("ALL");function bt(r,e){const i=new Date(r,e,1),d=new Date(i);d.setDate(d.getDate()-i.getDay());const l=[],C=new Date;C.setHours(0,0,0,0);for(let B=0;B<42;B++){const x=new Date(d);x.setDate(d.getDate()+B);const h=x.toISOString().split("T")[0],R=xt(h),J=pt(h);l.push({date:x,dateString:h,day:x.getDate(),isCurrentMonth:x.getMonth()===e,isToday:x.getTime()===C.getTime(),isPast:x<C,reservations:R,blackouts:J})}return l}function xt(r){return A.filter(e=>{const i=new Date(e.startDate),d=new Date(e.endDate),l=new Date(r);return l>=i&&l<=d&&(t(D)==="ALL"||e.facilityName===t(D))})}function pt(r){return q.filter(e=>{const i=new Date(e.startDate),d=new Date(e.endDate),l=new Date(r);return l>=i&&l<=d&&(t(D)==="ALL"||e.facilityName===t(D))})}function gt(r){switch(r){case"PENDING":return"bg-yellow-200 text-yellow-800";case"CONFIRMED":return"bg-green-200 text-green-800";case"DECLINED":return"bg-red-200 text-red-800";case"CANCELLED":return"bg-gray-200 text-gray-800";default:return"bg-gray-200 text-gray-800"}}function ft(r){switch(r){case"Club Room":return"bg-blue-100 border-blue-300";case"Games Room":return"bg-purple-100 border-purple-300";case"BBQ Area":return"bg-orange-100 border-orange-300";default:return"bg-gray-100 border-gray-300"}}function _t(){f(b,new Date(t(N),t(k)-1,1))}function Dt(){f(b,new Date(t(N),t(k)+1,1))}function ht(){f(b,new Date)}F(()=>t(b),()=>{f(k,t(b).getMonth())}),F(()=>t(b),()=>{f(N,t(b).getFullYear())}),F(()=>t(b),()=>{f(Y,t(b).toLocaleDateString("en-US",{month:"long",year:"numeric"}))}),F(()=>(t(N),t(k)),()=>{f(U,bt(t(N),t(k)))}),St(),Qt();var E=Kt();Pt(r=>{Gt.title="Calendar - Admin - ViennaBase19"});var L=a(E),z=n(a(L),2),wt=a(z);T(2),s(z),s(L);var I=n(L,2),K=a(I),S=a(K),X=a(S),Z=a(X),$=n(Z,2),yt=a($,!0);s($);var kt=n($,2);s(X),s(S);var tt=n(S,2),et=a(tt),G=n(a(et),2);g(()=>{t(D),Ot(()=>{})});var O=a(G);O.value=O.__value="ALL";var Nt=n(O);M(Nt,1,()=>Jt,ct,(r,e)=>{var i=Wt(),d=a(i,!0);s(i);var l={};g(()=>{u(d,(t(e),o(()=>t(e).displayName))),l!==(l=(t(e),o(()=>t(e).displayName)))&&(i.value=(i.__value=(t(e),o(()=>t(e).displayName)))??"")}),p(r,i)}),s(G),s(et),s(tt),s(K),s(I);var P=n(I,4),at=a(P),st=a(at);M(st,0,()=>["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],ct,(r,e)=>{var i=Ht(),d=a(i,!0);s(i),g(()=>u(d,e)),p(r,i)});var Ct=n(st,2);M(Ct,1,()=>t(U),r=>r.dateString,(r,e)=>{var i=zt(),d=a(i),l=a(d),C=a(l,!0);s(l);var B=n(l,2);{var x=c=>{var v=Vt();p(c,v)};lt(B,c=>{t(e),o(()=>t(e).isToday)&&c(x)})}s(d);var h=n(d,2),R=a(h);M(R,1,()=>(t(e),o(()=>t(e).reservations)),c=>c.id,(c,v)=>{var m=Yt(),w=a(m),W=a(w,!0);s(w);var vt=n(w,2),At=a(vt,!0);s(vt),s(m),g((Et,Lt)=>{V(m,1,`text-xs p-1 rounded border ${Et??""} ${Lt??""} truncate`),u(W,(t(v),o(()=>t(v).facilityName))),u(At,(t(v),o(()=>t(v).residentName)))},[()=>(t(v),o(()=>ft(t(v).facilityName))),()=>(t(v),o(()=>gt(t(v).status)))]),p(c,m)});var J=n(R,2);M(J,1,()=>(t(e),o(()=>t(e).blackouts)),c=>c.id,(c,v)=>{var m=Ut(),w=n(a(m),2),W=a(w,!0);s(w),s(m),g(()=>u(W,(t(v),o(()=>t(v).reason)))),p(c,m)}),s(h);var Ft=n(h,2);{var Tt=c=>{var v=qt(),m=a(v);s(v),g(()=>u(m,`+${t(e),o(()=>t(e).reservations.length+t(e).blackouts.length-2)??""} more`)),p(c,v)};lt(Ft,c=>{t(e),o(()=>t(e).reservations.length+t(e).blackouts.length>2)&&c(Tt)})}s(i),g(()=>{V(i,1,`min-h-[120px] p-2 border border-gray-100 ${t(e),o(()=>t(e).isCurrentMonth?"bg-white":"bg-gray-50 opacity-50")??""} relative`),V(l,1,`text-sm font-medium ${t(e),o(()=>t(e).isToday?"text-vb19-primary":t(e).isCurrentMonth?"text-vb19-text":"text-vb19-muted")??""}`),u(C,(t(e),o(()=>t(e).day)))}),p(r,i)}),s(at),s(P);var rt=n(P,2),j=a(rt),it=a(j),Bt=a(it,!0);s(it),T(2),s(j);var Q=n(j,2),ot=a(Q),Mt=a(ot,!0);s(ot),T(2),s(Q);var dt=n(Q,2),nt=a(dt),Rt=a(nt,!0);s(nt),T(2),s(dt),s(rt),s(E),g((r,e)=>{u(yt,t(Y)),u(Bt,r),u(Mt,e),u(Rt,o(()=>q.length))},[()=>o(()=>A.filter(r=>r.status==="PENDING").length),()=>o(()=>A.filter(r=>{const e=new Date(r.startDate),i=new Date,d=new Date(i.getTime()+10080*60*1e3);return e>=i&&e<=d&&r.status==="CONFIRMED"}).length)]),H("click",wt,ht),H("click",Z,_t),H("click",kt,Dt),jt(G,()=>t(D),r=>f(D,r)),p(ut,E),$t()}export{le as component};

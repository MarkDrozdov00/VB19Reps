import{f as p,a as c,c as ue}from"../chunks/D8bjOph7.js";import"../chunks/BV7DkQhB.js";import{p as _e,l as xe,a as fe,t as u,c as s,d as o,g as t,b as be,m as D,$ as he,s as f,r,G as ut,n as ge,u as l,f as St}from"../chunks/Cy1Q1AeQ.js";import{s as n}from"../chunks/CT7QVDLL.js";import{i as g}from"../chunks/BgSNG9tS.js";import{e as It,i as ye}from"../chunks/7hXyg6yC.js";import{h as Ne}from"../chunks/Iodbp_-i.js";import{r as De,s as we}from"../chunks/DInSHXZj.js";import{s as Ce}from"../chunks/CGvEPh6O.js";import{e as y}from"../chunks/4bUo1EiA.js";import{b as Ee}from"../chunks/DUeyJna-.js";import{b as _t}from"../chunks/CVSxDc1S.js";import{i as ke}from"../chunks/CV6ihNMJ.js";import{f as Ae}from"../chunks/DyTerzab.js";var Le=p("<option> </option>"),Re=p('<span class="ml-1"> </span>'),Se=p('<span class="ml-1"> </span>'),Ie=p('<span class="ml-1"> </span>'),Be=p('<span class="ml-1"> </span>'),Fe=p('<span class="ml-1"> </span>'),Me=p('<br/><span class="text-xs text-vb19-muted"> </span>',1),Te=p('<div class="flex space-x-2"><button class="text-green-600 hover:text-green-900">Approve</button> <button class="text-red-600 hover:text-red-900">Decline</button></div>'),$e=p('<div class="flex space-x-2"><button class="text-vb19-primary hover:text-blue-700">Edit</button> <button class="text-red-600 hover:text-red-900">Cancel</button></div>'),je=p('<button class="text-vb19-primary hover:text-blue-700">View</button>'),Oe=p('<tr class="hover:bg-gray-50"><td class="px-6 py-4 whitespace-nowrap"><div><div class="text-sm font-medium text-vb19-text"> </div> <div class="text-sm text-vb19-muted"> </div> <div class="text-xs text-vb19-muted"> </div></div></td><td class="px-6 py-4 whitespace-nowrap text-sm text-vb19-text"> </td><td class="px-6 py-4 whitespace-nowrap text-sm text-vb19-text"> <!></td><td class="px-6 py-4 whitespace-nowrap"><span> </span></td><td class="px-6 py-4 text-sm text-vb19-muted max-w-xs"><div class="truncate"> </div></td><td class="px-6 py-4 whitespace-nowrap text-sm text-vb19-muted"> </td><td class="px-6 py-4 whitespace-nowrap text-sm font-medium"><!></td></tr>'),Ge=p('<div class="text-center py-12"><svg class="w-12 h-12 mx-auto text-gray-400 mb-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path></svg> <h3 class="text-lg font-medium text-vb19-text mb-2">No reservations found</h3> <p class="text-vb19-muted">Try adjusting your search or filter criteria.</p></div>'),Pe=p('<div class="space-y-6"><div class="flex justify-between items-center"><div><h1 class="text-3xl font-bold text-vb19-text">Reservations</h1> <p class="mt-2 text-vb19-muted">Manage facility bookings and approvals</p></div> <button class="btn-primary"><svg class="w-4 h-4 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path></svg> Create Reservation</button></div> <div class="card"><div class="grid grid-cols-1 md:grid-cols-4 gap-4"><div><label class="form-label">Search</label> <input type="text" class="form-input" placeholder="Name, email, or room..."/></div> <div><label class="form-label">Status</label> <select class="form-input"><option>All Statuses</option><option>Pending</option><option>Confirmed</option><option>Declined</option><option>Cancelled</option></select></div> <div><label class="form-label">Facility</label> <select class="form-input"><option>All Facilities</option><!></select></div> <div><label class="form-label">Sort By</label> <select class="form-input"><option>Created Date</option><option>Booking Date</option><option>Resident Name</option><option>Facility</option><option>Status</option></select></div></div></div> <div class="flex justify-between items-center text-sm text-vb19-muted"><span> </span> <div class="flex items-center space-x-4"><span> </span></div></div> <div class="card"><div class="overflow-x-auto"><table class="min-w-full divide-y divide-gray-200"><thead class="bg-gray-50"><tr><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100">Resident <!></th><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100">Facility <!></th><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100">Date <!></th><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100">Status <!></th><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Notes</th><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100">Created <!></th><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Actions</th></tr></thead><tbody class="bg-white divide-y divide-gray-200"></tbody></table> <!></div></div></div>');function aa(Bt,Ft){_e(Ft,!1);const w=D();let b=D([{id:1,facilityName:"Club Room",residentName:"John Doe",residentEmail:"john.doe@example.com",roomNumber:"4B",startDate:"2025-09-15",endDate:"2025-09-15",status:"PENDING",createdAt:"2025-09-12T10:30:00Z",notes:""},{id:2,facilityName:"BBQ Area",residentName:"Jane Smith",residentEmail:"jane.smith@example.com",roomNumber:"7A",startDate:"2025-09-14",endDate:"2025-09-14",status:"CONFIRMED",createdAt:"2025-09-11T15:45:00Z",notes:"Birthday party for 10 people"},{id:3,facilityName:"Games Room",residentName:"Mike Johnson",residentEmail:"mike.j@example.com",roomNumber:"2C",startDate:"2025-09-16",endDate:"2025-09-16",status:"PENDING",createdAt:"2025-09-12T09:15:00Z",notes:""},{id:4,facilityName:"Club Room",residentName:"Sarah Wilson",residentEmail:"sarah.w@example.com",roomNumber:"5D",startDate:"2025-09-18",endDate:"2025-09-19",status:"CONFIRMED",createdAt:"2025-09-10T14:20:00Z",notes:"Team meeting and workshop"},{id:5,facilityName:"BBQ Area",residentName:"Tom Brown",residentEmail:"tom.brown@example.com",roomNumber:"3A",startDate:"2025-09-20",endDate:"2025-09-20",status:"CONFIRMED",createdAt:"2025-09-13T11:00:00Z",notes:""}]),N=D(""),C=D("ALL"),E=D("ALL"),d=D("createdAt"),_=D("desc");function Mt(a){switch(a){case"PENDING":return"bg-yellow-100 text-yellow-800";case"CONFIRMED":return"bg-green-100 text-green-800";case"DECLINED":return"bg-red-100 text-red-800";case"CANCELLED":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}}function xt(a){return new Date(a).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}function Tt(a){return new Date(a).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}function $t(a){f(b,t(b).map(e=>e.id===a?{...e,status:"CONFIRMED"}:e)),console.log(`Approved reservation ${a}`)}function jt(a){f(b,t(b).map(e=>e.id===a?{...e,status:"DECLINED"}:e)),console.log(`Declined reservation ${a}`)}function Ot(a){f(b,t(b).map(e=>e.id===a?{...e,status:"CANCELLED"}:e)),console.log(`Cancelled reservation ${a}`)}function A(a){t(d)===a?f(_,t(_)==="asc"?"desc":"asc"):(f(d,a),f(_,"desc"))}xe(()=>(t(b),t(N),t(C),t(E),t(d),t(_)),()=>{f(w,t(b).filter(a=>{const e=t(N)===""||a.residentName.toLowerCase().includes(t(N).toLowerCase())||a.residentEmail.toLowerCase().includes(t(N).toLowerCase())||a.roomNumber.toLowerCase().includes(t(N).toLowerCase()),i=t(C)==="ALL"||a.status===t(C),v=t(E)==="ALL"||a.facilityName===t(E);return e&&i&&v}).sort((a,e)=>{let i=a[t(d)],v=e[t(d)];return(t(d)==="createdAt"||t(d)==="startDate")&&(i=new Date(i),v=new Date(v)),t(_)==="asc"?i<v?-1:i>v?1:0:i>v?-1:i<v?1:0}))}),fe(),ke();var T=Pe();Ne(a=>{he.title="Reservations - Admin - ViennaBase19"});var $=o(s(T),2),ft=s($),j=s(ft),bt=o(s(j),2);De(bt),r(j);var O=o(j,2),G=o(s(O),2);u(()=>{t(C),ut(()=>{})});var P=s(G);P.value=P.__value="ALL";var V=o(P);V.value=V.__value="PENDING";var Z=o(V);Z.value=Z.__value="CONFIRMED";var J=o(Z);J.value=J.__value="DECLINED";var ht=o(J);ht.value=ht.__value="CANCELLED",r(G),r(O);var H=o(O,2),Q=o(s(H),2);u(()=>{t(E),ut(()=>{})});var U=s(Q);U.value=U.__value="ALL";var Gt=o(U);It(Gt,1,()=>Ae,ye,(a,e)=>{var i=Le(),v=s(i,!0);r(i);var L={};u(()=>{n(v,(t(e),l(()=>t(e).displayName))),L!==(L=(t(e),l(()=>t(e).displayName)))&&(i.value=(i.__value=(t(e),l(()=>t(e).displayName)))??"")}),c(a,i)}),r(Q),r(H);var gt=o(H,2),W=o(s(gt),2);u(()=>{t(d),ut(()=>{})});var q=s(W);q.value=q.__value="createdAt";var z=o(q);z.value=z.__value="startDate";var K=o(z);K.value=K.__value="residentName";var X=o(K);X.value=X.__value="facilityName";var yt=o(X);yt.value=yt.__value="status",r(W),r(gt),r(ft),r($);var Y=o($,2),tt=s(Y),Pt=s(tt);r(tt);var Nt=o(tt,2),Dt=s(Nt),Vt=s(Dt);r(Dt),r(Nt),r(Y);var wt=o(Y,2),Ct=s(wt),et=s(Ct),at=s(et),Et=s(at),I=s(Et),Zt=o(s(I));{var Jt=a=>{var e=Re(),i=s(e,!0);r(e),u(()=>n(i,t(_)==="asc"?"↑":"↓")),c(a,e)};g(Zt,a=>{t(d)==="residentName"&&a(Jt)})}r(I);var B=o(I),Ht=o(s(B));{var Qt=a=>{var e=Se(),i=s(e,!0);r(e),u(()=>n(i,t(_)==="asc"?"↑":"↓")),c(a,e)};g(Ht,a=>{t(d)==="facilityName"&&a(Qt)})}r(B);var F=o(B),Ut=o(s(F));{var Wt=a=>{var e=Ie(),i=s(e,!0);r(e),u(()=>n(i,t(_)==="asc"?"↑":"↓")),c(a,e)};g(Ut,a=>{t(d)==="startDate"&&a(Wt)})}r(F);var M=o(F),qt=o(s(M));{var zt=a=>{var e=Be(),i=s(e,!0);r(e),u(()=>n(i,t(_)==="asc"?"↑":"↓")),c(a,e)};g(qt,a=>{t(d)==="status"&&a(zt)})}r(M);var rt=o(M,2),Kt=o(s(rt));{var Xt=a=>{var e=Fe(),i=s(e,!0);r(e),u(()=>n(i,t(_)==="asc"?"↑":"↓")),c(a,e)};g(Kt,a=>{t(d)==="createdAt"&&a(Xt)})}r(rt),ge(),r(Et),r(at);var kt=o(at);It(kt,5,()=>t(w),a=>a.id,(a,e)=>{var i=Oe(),v=s(i),L=s(v),st=s(L),ee=s(st,!0);r(st);var ot=o(st,2),ae=s(ot,!0);r(ot);var At=o(ot,2),re=s(At);r(At),r(L),r(v);var it=o(v),se=s(it,!0);r(it);var lt=o(it),Lt=s(lt),oe=o(Lt);{var ie=m=>{var x=Me(),h=o(St(x)),R=s(h);r(h),u(mt=>n(R,`to ${mt??""}`),[()=>(t(e),l(()=>xt(t(e).endDate)))]),c(m,x)};g(oe,m=>{t(e),l(()=>t(e).startDate!==t(e).endDate)&&m(ie)})}r(lt);var nt=o(lt),dt=s(nt),le=s(dt,!0);r(dt),r(nt);var vt=o(nt),ct=s(vt),ne=s(ct,!0);r(ct),r(vt);var pt=o(vt),de=s(pt,!0);r(pt);var Rt=o(pt),ve=s(Rt);{var ce=m=>{var x=Te(),h=s(x),R=o(h,2);r(x),y("click",h,()=>$t(t(e).id)),y("click",R,()=>jt(t(e).id)),c(m,x)},pe=m=>{var x=ue(),h=St(x);{var R=k=>{var S=$e(),me=o(s(S),2);r(S),y("click",me,()=>Ot(t(e).id)),c(k,S)},mt=k=>{var S=je();c(k,S)};g(h,k=>{t(e),l(()=>t(e).status==="CONFIRMED")?k(R):k(mt,!1)},!0)}c(m,x)};g(ve,m=>{t(e),l(()=>t(e).status==="PENDING")?m(ce):m(pe,!1)})}r(Rt),r(i),u((m,x,h)=>{n(ee,(t(e),l(()=>t(e).residentName))),n(ae,(t(e),l(()=>t(e).residentEmail))),n(re,`Room ${t(e),l(()=>t(e).roomNumber)??""}`),n(se,(t(e),l(()=>t(e).facilityName))),n(Lt,`${m??""} `),Ce(dt,1,`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${x??""}`),n(le,(t(e),l(()=>t(e).status))),we(ct,"title",(t(e),l(()=>t(e).notes))),n(ne,(t(e),l(()=>t(e).notes||"-"))),n(de,h)},[()=>(t(e),l(()=>xt(t(e).startDate))),()=>(t(e),l(()=>Mt(t(e).status))),()=>(t(e),l(()=>Tt(t(e).createdAt)))]),c(a,i)}),r(kt),r(et);var Yt=o(et,2);{var te=a=>{var e=Ge();c(a,e)};g(Yt,a=>{t(w),l(()=>t(w).length===0)&&a(te)})}r(Ct),r(wt),r(T),u(()=>{n(Pt,`Showing ${t(w),l(()=>t(w).length)??""} of ${t(b),l(()=>t(b).length)??""} reservations`),n(Vt,`Sort: ${t(_)==="asc"?"↑":"↓"}`)}),Ee(bt,()=>t(N),a=>f(N,a)),_t(G,()=>t(C),a=>f(C,a)),_t(Q,()=>t(E),a=>f(E,a)),_t(W,()=>t(d),a=>f(d,a)),y("click",I,()=>A("residentName")),y("click",B,()=>A("facilityName")),y("click",F,()=>A("startDate")),y("click",M,()=>A("status")),y("click",rt,()=>A("createdAt")),c(Bt,T),be()}export{aa as component};

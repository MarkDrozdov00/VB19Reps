import{f as _,a as b}from"../chunks/D8bjOph7.js";import"../chunks/BV7DkQhB.js";import{p as Rt,l as qt,a as Lt,t as y,b as Ut,g as t,$ as Ot,u as o,c as r,d as s,m as O,r as a,n as P,s as x,F,G as It,H as Zt,f as Gt}from"../chunks/Cy1Q1AeQ.js";import{s as p}from"../chunks/CT7QVDLL.js";import{i as A}from"../chunks/BgSNG9tS.js";import{e as ft,i as Ht}from"../chunks/7hXyg6yC.js";import{h as Pt}from"../chunks/Iodbp_-i.js";import{r as bt,s as Qt}from"../chunks/DInSHXZj.js";import{s as I}from"../chunks/CGvEPh6O.js";import{e as T}from"../chunks/4bUo1EiA.js";import{b as st}from"../chunks/DUeyJna-.js";import{b as Vt}from"../chunks/CVSxDc1S.js";import{p as zt}from"../chunks/CdEA5IGF.js";import{i as Jt}from"../chunks/CV6ihNMJ.js";import{f as Kt}from"../chunks/DyTerzab.js";var Wt=_("<option> </option>"),Xt=_('<p class="mt-1 text-sm text-red-600"> </p>'),Yt=_('<p class="mt-1 text-sm text-red-600"> </p>'),te=_('<p class="mt-1 text-sm text-red-600"> </p>'),ee=_('<p class="mt-1 text-sm text-red-600"> </p>'),ae=_('<div class="card"><div class="flex items-center justify-between mb-6"><h2 class="text-xl font-semibold text-vb19-text">Create New Blackout</h2> <button class="text-vb19-muted hover:text-vb19-text"><svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></button></div> <form class="space-y-6"><div class="grid grid-cols-1 md:grid-cols-2 gap-6"><div><label class="form-label">Facility <span class="text-red-500">*</span></label> <select><option>Select a facility</option><!></select> <!></div> <div><label class="form-label">Start Date <span class="text-red-500">*</span></label> <input type="date"/> <!></div> <div><label class="form-label">End Date <span class="text-red-500">*</span></label> <input type="date"/> <!></div> <div class="md:col-span-2"><label class="form-label">Reason <span class="text-red-500">*</span></label> <textarea rows="3" placeholder="Describe the reason for this blackout..."></textarea> <!></div></div> <div class="flex justify-end space-x-3"><button type="button" class="btn-secondary">Cancel</button> <button type="submit" class="btn-primary">Create Blackout</button></div></form></div>'),re=_('<br/><span class="text-xs text-vb19-muted"> </span>',1),se=_('<tr class="hover:bg-gray-50"><td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-vb19-text"> </td><td class="px-6 py-4 whitespace-nowrap text-sm text-vb19-text"> <!></td><td class="px-6 py-4 whitespace-nowrap"><span> </span></td><td class="px-6 py-4 text-sm text-vb19-text max-w-xs"><div class="truncate"> </div></td><td class="px-6 py-4 whitespace-nowrap text-sm text-vb19-muted"> </td><td class="px-6 py-4 whitespace-nowrap text-sm font-medium"><div class="flex space-x-2"><button class="text-vb19-primary hover:text-blue-700">Edit</button> <button class="text-red-600 hover:text-red-900">Delete</button></div></td></tr>'),ie=_('<div class="overflow-x-auto"><table class="min-w-full divide-y divide-gray-200"><thead class="bg-gray-50"><tr><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Facility</th><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Date Range</th><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Status</th><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Reason</th><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Created</th><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Actions</th></tr></thead><tbody class="bg-white divide-y divide-gray-200"></tbody></table></div>'),ne=_('<div class="text-center py-12"><svg class="w-12 h-12 mx-auto text-gray-400 mb-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728L5.636 5.636m12.728 12.728L18.364 5.636M5.636 18.364l12.728-12.728"></path></svg> <h3 class="text-lg font-medium text-vb19-text mb-2">No blackouts scheduled</h3> <p class="text-vb19-muted mb-4">Create your first blackout to block facility availability.</p> <button class="btn-primary">Create Blackout</button></div>'),oe=_('<div class="space-y-6"><div class="flex justify-between items-center"><div><h1 class="text-3xl font-bold text-vb19-text">Blackout Management</h1> <p class="mt-2 text-vb19-muted">Block facility availability for maintenance and events</p></div> <button class="btn-primary"><svg class="w-4 h-4 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path></svg> Create Blackout</button></div> <!> <div class="grid grid-cols-1 md:grid-cols-3 gap-6"><div class="card text-center"><div class="text-2xl font-bold text-red-600 mb-2"> </div> <div class="text-sm text-vb19-muted">Active Now</div></div> <div class="card text-center"><div class="text-2xl font-bold text-blue-600 mb-2"> </div> <div class="text-sm text-vb19-muted">Upcoming</div></div> <div class="card text-center"><div class="text-2xl font-bold text-vb19-text mb-2"> </div> <div class="text-sm text-vb19-muted">Total Blackouts</div></div></div> <div class="card"><div class="flex items-center justify-between mb-6"><h2 class="text-xl font-semibold text-vb19-text">All Blackouts</h2> <div class="text-sm text-vb19-muted"> </div></div> <!></div></div>');function we(_t,yt){Rt(yt,!1);const u=O();let k=O([{id:1,facilityName:"Club Room",startDate:"2025-09-22",endDate:"2025-09-23",reason:"Scheduled maintenance and cleaning",createdAt:"2025-09-10T14:30:00Z"},{id:2,facilityName:"BBQ Area",startDate:"2025-09-25",endDate:"2025-09-25",reason:"Equipment repair",createdAt:"2025-09-12T09:15:00Z"},{id:3,facilityName:"Games Room",startDate:"2025-10-01",endDate:"2025-10-02",reason:"Furniture replacement",createdAt:"2025-09-08T16:45:00Z"}]),M=O(!1),i=O({facilityName:"",startDate:"",endDate:"",reason:""}),d=O({});function it(e){return new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}function Dt(e){return new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}function Q(e){const l=new Date,f=new Date(e.startDate),$=new Date(e.endDate);return l>=f&&l<=$}function V(e){const l=new Date;return new Date(e.startDate)>l}function gt(e){return Q(e)?"bg-red-100 text-red-800":V(e)?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}function ht(e){return Q(e)?"Active":V(e)?"Upcoming":"Past"}function wt(){const e={};return t(i).facilityName||(e.facilityName="Facility is required"),t(i).startDate||(e.startDate="Start date is required"),t(i).endDate?t(i).startDate&&new Date(t(i).endDate)<new Date(t(i).startDate)&&(e.endDate="End date must be after start date"):e.endDate="End date is required",t(i).reason.trim()||(e.reason="Reason is required"),x(d,e),Object.keys(e).length===0}function kt(){if(!wt())return;const e={id:Math.max(...t(k).map(l=>l.id))+1,facilityName:t(i).facilityName,startDate:t(i).startDate,endDate:t(i).endDate,reason:t(i).reason.trim(),createdAt:new Date().toISOString()};x(k,[...t(k),e]),x(i,{facilityName:"",startDate:"",endDate:"",reason:""}),x(d,{}),x(M,!1),console.log("Created blackout:",e)}function Nt(e){confirm("Are you sure you want to delete this blackout?")&&(x(k,t(k).filter(l=>l.id!==e)),console.log("Deleted blackout:",e))}function nt(){x(i,{facilityName:"",startDate:"",endDate:"",reason:""}),x(d,{}),x(M,!1)}function ot(){const e=new Date,l=new Date(e);l.setDate(l.getDate()+1),F(i,t(i).startDate=e.toISOString().split("T")[0]),F(i,t(i).endDate=l.toISOString().split("T")[0])}qt(()=>t(k),()=>{x(u,t(k).sort((e,l)=>new Date(e.startDate)-new Date(l.startDate)))}),Lt(),Jt();var z=oe();Pt(e=>{Ot.title="Blackouts - Admin - ViennaBase19"});var J=r(z),Bt=s(r(J),2);a(J);var dt=s(J,2);{var St=e=>{var l=ae(),f=r(l),$=s(r(f),2);a(f);var N=s(f,2),c=r(N),B=r(c),D=s(r(B),2);y(()=>{t(i),It(()=>{t(d)})});var E=r(D);E.value=E.__value="";var R=s(E);ft(R,1,()=>Kt,Ht,(n,v)=>{var m=Wt(),Et=r(m,!0);a(m);var xt={};y(()=>{p(Et,(t(v),o(()=>t(v).displayName))),xt!==(xt=(t(v),o(()=>t(v).displayName)))&&(m.value=(m.__value=(t(v),o(()=>t(v).displayName)))??"")}),b(n,m)}),a(D);var Z=s(D,2);{var tt=n=>{var v=Xt(),m=r(v,!0);a(v),y(()=>p(m,(t(d),o(()=>t(d).facilityName)))),b(n,v)};A(Z,n=>{t(d),o(()=>t(d).facilityName)&&n(tt)})}a(B);var q=s(B,2),g=s(r(q),2);bt(g);var L=s(g,2);{var et=n=>{var v=Yt(),m=r(v,!0);a(v),y(()=>p(m,(t(d),o(()=>t(d).startDate)))),b(n,v)};A(L,n=>{t(d),o(()=>t(d).startDate)&&n(et)})}a(q);var S=s(q,2),h=s(r(S),2);bt(h);var at=s(h,2);{var U=n=>{var v=te(),m=r(v,!0);a(v),y(()=>p(m,(t(d),o(()=>t(d).endDate)))),b(n,v)};A(at,n=>{t(d),o(()=>t(d).endDate)&&n(U)})}a(S);var G=s(S,2),C=s(r(G),2);Zt(C);var H=s(C,2);{var rt=n=>{var v=ee(),m=r(v,!0);a(v),y(()=>p(m,(t(d),o(()=>t(d).reason)))),b(n,v)};A(H,n=>{t(d),o(()=>t(d).reason)&&n(rt)})}a(G),a(c);var w=s(c,2),j=r(w);P(2),a(w),a(N),a(l),y(()=>{I(D,1,`form-input ${t(d),o(()=>t(d).facilityName?"border-red-300 focus:ring-red-500":"")??""}`),I(g,1,`form-input ${t(d),o(()=>t(d).startDate?"border-red-300 focus:ring-red-500":"")??""}`),I(h,1,`form-input ${t(d),o(()=>t(d).endDate?"border-red-300 focus:ring-red-500":"")??""}`),I(C,1,`form-input ${t(d),o(()=>t(d).reason?"border-red-300 focus:ring-red-500":"")??""}`)}),T("click",$,nt),Vt(D,()=>t(i).facilityName,n=>F(i,t(i).facilityName=n)),st(g,()=>t(i).startDate,n=>F(i,t(i).startDate=n)),st(h,()=>t(i).endDate,n=>F(i,t(i).endDate=n)),st(C,()=>t(i).reason,n=>F(i,t(i).reason=n)),T("click",j,nt),T("submit",N,zt(kt)),b(e,l)};A(dt,e=>{t(M)&&e(St)})}var K=s(dt,2),W=r(K),lt=r(W),Ct=r(lt,!0);a(lt),P(2),a(W);var X=s(W,2),vt=r(X),At=r(vt,!0);a(vt),P(2),a(X);var ct=s(X,2),mt=r(ct),$t=r(mt,!0);a(mt),P(2),a(ct),a(K);var pt=s(K,2),Y=r(pt),ut=s(r(Y),2),jt=r(ut);a(ut),a(Y);var Ft=s(Y,2);{var Tt=e=>{var l=ie(),f=r(l),$=s(r(f));ft($,5,()=>t(u),N=>N.id,(N,c)=>{var B=se(),D=r(B),E=r(D,!0);a(D);var R=s(D),Z=r(R),tt=s(Z);{var q=w=>{var j=re(),n=s(Gt(j)),v=r(n);a(n),y(m=>p(v,`to ${m??""}`),[()=>(t(c),o(()=>it(t(c).endDate)))]),b(w,j)};A(tt,w=>{t(c),o(()=>t(c).startDate!==t(c).endDate)&&w(q)})}a(R);var g=s(R),L=r(g),et=r(L,!0);a(L),a(g);var S=s(g),h=r(S),at=r(h,!0);a(h),a(S);var U=s(S),G=r(U,!0);a(U);var C=s(U),H=r(C),rt=s(r(H),2);a(H),a(C),a(B),y((w,j,n,v)=>{p(E,(t(c),o(()=>t(c).facilityName))),p(Z,`${w??""} `),I(L,1,`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${j??""}`),p(et,n),Qt(h,"title",(t(c),o(()=>t(c).reason))),p(at,(t(c),o(()=>t(c).reason))),p(G,v)},[()=>(t(c),o(()=>it(t(c).startDate))),()=>(t(c),o(()=>gt(t(c)))),()=>(t(c),o(()=>ht(t(c)))),()=>(t(c),o(()=>Dt(t(c).createdAt)))]),T("click",rt,()=>Nt(t(c).id)),b(N,B)}),a($),a(f),a(l),b(e,l)},Mt=e=>{var l=ne(),f=s(r(l),6);a(l),T("click",f,()=>{x(M,!0),ot()}),b(e,l)};A(Ft,e=>{t(u),o(()=>t(u).length>0)?e(Tt):e(Mt,!1)})}a(pt),a(z),y((e,l)=>{p(Ct,e),p(At,l),p($t,(t(u),o(()=>t(u).length))),p(jt,`${t(u),o(()=>t(u).length)??""} blackout${t(u),o(()=>t(u).length!==1?"s":"")??""}`)},[()=>(t(u),o(()=>t(u).filter(Q).length)),()=>(t(u),o(()=>t(u).filter(V).length))]),T("click",Bt,()=>{x(M,!0),ot()}),b(_t,z),Ut()}export{we as component};
